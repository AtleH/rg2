// Version 0.9.6 2014-11-14T20:56:56;
function Animation(){"use strict";this.runners=[],this.timer=null,this.animationSecs=0,this.deltaSecs=5,this.timerInterval=100,this.realTime=!1,this.earliestStartSecs=0,this.latestFinishSecs=0,this.tailLength=0,this.useFullTails=!1,this.massStartControl=0,this.massStartByControl=!1,this.displayNames=!0,this.displayInitials=!1}function Controls(){this.controls=[],this.displayControls=!1}function Control(a,b,c){this.code=a,this.x=b,this.y=c}function Courses(){this.courses=[],this.totaltracks=0,this.numberofcourses=0,this.highestControlNumber=0}function Course(a,b){this.name=a.name,this.trackcount=0,this.display=!1,this.courseid=a.courseid,this.codes=a.codes,this.x=a.xpos,this.y=a.ypos,this.isScoreCourse=b,this.resultcount=0}function Draw(){this.trackColor="#ff0000",this.HANDLE_DOT_RADIUS=7,this.hasResults=!1,this.initialiseDrawing()}function RouteData(){this.courseid=null,this.coursename=null,this.resultid=null,this.isScoreCourse=!1,this.eventid=null,this.name=null,this.comments=null,this.x=[],this.y=[],this.controlx=[],this.controly=[],this.time=[],this.startsecs=0,this.totaltime=0}function Events(){this.events=[],this.activeEventID=null}function Event(a){switch(this.kartatid=parseInt(a.id,10),this.mapid=a.mapid,this.format=parseInt(a.format,10),this.name=a.name,this.date=a.date,this.club=a.club,this.mapfilename=void 0===a.suffix?this.mapid+".jpg":this.mapid+"."+a.suffix,this.worldFile=[],"undefined"==typeof a.A?this.georeferenced=!1:(this.georeferenced=!0,this.worldFile.A=a.A,this.worldFile.B=a.B,this.worldFile.C=a.C,this.worldFile.D=a.D,this.worldFile.E=a.E,this.worldFile.F=a.F),this.rawtype=a.type,a.type){case"I":this.type="International event";break;case"N":this.type="National event";break;case"R":this.type="Regional event";break;case"L":this.type="Local event";break;case"T":this.type="Training event";break;default:this.type="Unknown"}this.comment=a.comment,this.courses=0}function GPSTrack(){this.lat=[],this.lon=[],this.time=[],this.baseX=[],this.baseY=[],this.handles=[],this.savedBaseX=[],this.savedBaseY=[],this.savedHandles=[],this.fileLoaded=!1,this.fileName="",this.routeData=new RouteData}function Results(){this.results=[]}function Result(a,b,c,d,e){this.resultid=a.resultid,this.isScoreEvent=b,this.isGPSTrack=this.resultid>=rg2.config.GPS_RESULT_OFFSET?!0:!1,this.name=he.decode(a.name),this.initials=this.getInitials(this.name),this.starttime=a.starttime,this.time=a.time,this.comments=null!==a.comments?he.decode(a.comments):"",this.coursename=a.coursename,""===this.coursename&&(this.coursename=a.courseid),this.courseid=a.courseid,this.splits=a.splits,this.splits.splice(0,0,0),""!==a.scoreref&&(this.scorex=d,this.scorey=e,this.scorecodes=c),this.cumulativeDistance=[],this.hasValidTrack=!1,this.displayTrack=!1,this.displayScoreCourse=!1,this.trackColour=null,this.trackx=[],this.tracky=[],this.speedColour=[],this.xysecs=[],this.isGPSTrack&&(this.time=rg2.getTimeForID(this.resultid-rg2.config.GPS_RESULT_OFFSET),this.time===rg2.config.TIME_NOT_FOUND&&(this.time=a.time),this.splits=rg2.getSplitsForID(this.resultid-rg2.config.GPS_RESULT_OFFSET)),this.legpos=[],a.gpsx.length>0&&this.addTrack(a)}function Runner(a){var b,c;b=rg2.getFullResult(a),this.name=b.name,this.initials=b.initials,this.runnerid=a,this.starttime=b.starttime,this.splits=b.splits,this.legpos=b.legpos,this.colour=null===b.trackColour?rg2.getNextRouteColour():b.trackColour,b.isScoreEvent?(c={},c.name=b.coursename,c.x=b.scorex,c.y=b.scorey,c.codes=b.scorecodes):c=rg2.getCourseDetails(b.courseid),this.coursename=c.name,this.nextStopTime=rg2.config.VERY_HIGH_TIME_IN_SECS,this.x=[],this.y=[],this.legTrackDistance=[],this.cumulativeTrackDistance=[];var d=[];this.x[0]=c.x[0],this.y[0]=c.y[0];var e,f,g,h,i,j,k,l,m,n,o,p,q,r=0,s=0,t=0,u=0,v=c.x[0],w=c.y[0];if(b.hasValidTrack)for(this.x[0]=b.trackx[0],this.y[0]=b.tracky[0],d[0]=0,v=b.trackx[0],w=b.tracky[0],g=0,o=0,n=1;n<b.xysecs.length;n+=1){for(e=b.trackx[n],f=b.tracky[n],h=e-v,i=f-w,o+=Math.sqrt((e-v)*(e-v)+(f-w)*(f-w)),k=o-g,t=b.xysecs[n],j=t-u,m=u+1;t>m;m+=1)this.x[m]=Math.round(v+(m-u)*h/j),this.y[m]=Math.round(w+(m-u)*i/j),d[m]=Math.round(g+(m-u)*k/j);this.x[t]=e,this.y[t]=f,d[t]=o,v=e,w=f,g=o,u=t}else for(this.x[0]=c.x[0],this.y[0]=c.y[0],d[0]=0,v=c.x[0],w=c.y[0],g=0,o=0,l=1;l<c.codes.length;l+=1){for(e=c.x[l],f=c.y[l],h=e-v,i=f-w,o+=Math.sqrt((e-v)*(e-v)+(f-w)*(f-w)),k=o-g,s=b.splits[l],j=s-r,m=r+1;s>m;m+=1)this.x[m]=Math.round(v+(m-r)*h/j),this.y[m]=Math.round(w+(m-r)*i/j),d[m]=Math.round(g+(m-u)*k/j);this.x[s]=e,this.y[s]=f,d[s]=o,v=e,w=f,g=o,r=s}if(this.legTrackDistance[0]=0,this.cumulativeTrackDistance[0]=0,p=d.length-1,"undefined"!=typeof c.codes)if(b.splits!==rg2.config.SPLITS_NOT_FOUND)for(l=1;l<c.codes.length;l+=1)q=b.splits[l]<=p?b.splits[l]:p,this.cumulativeTrackDistance[l]=Math.round(d[q]),this.legTrackDistance[l]=this.cumulativeTrackDistance[l]-this.cumulativeTrackDistance[l-1];else this.legTrackDistance[1]=Math.round(d[p]),this.cumulativeTrackDistance[1]=Math.round(d[p]);b=0,c=0}var rg2=function(){"use strict";function a(){this.colours=["#ff0000","#ff8000","#ff00ff","#ff0080","#008080","#008000","#00ff00","#0080ff","#0000ff","#8000ff","#00ffff","#808080"],this.colourIndex=0}function b(){$("#rg2-container").hide(),"undefined"==typeof rg2Config.dictionary?(wb={},wb.code="en"):wb=rg2Config.dictionary,f(),Xb=$("#rg2-info-panel"),Yb=$("#rg2-event-title"),$.ajaxSetup({cache:!1}),Wb=0!==$("#rg2-manage-login").length?!0:!1,Ub=window.location.hash,Ub&&!Wb&&(Vb=parseInt(Ub.replace("#",""),10)),$("#btn-save-route").button().button("disable"),$("#btn-save-gps-route").button().button("disable"),$("#btn-reset-drawing").button().button("disable"),$("#btn-undo").button().button("disable"),$("#btn-undo-gps-adjust").button().button("disable"),$("#rg2-load-gps-file").button().button("disable"),$("#btn-three-seconds").button().button("disable"),Xb.tabs({disabled:[_b.TAB_COURSES,_b.TAB_RESULTS,_b.TAB_DRAW],active:_b.TAB_EVENTS,heightStyle:"content",activate:function(){n()}}),$("#rg2-result-list").accordion({collapsible:!0,heightStyle:"content",select:function(a,b){console.log("Result index selected: "+b.item[0].id)}}),$("#rg2-clock").text("00:00:00"),$("#rg2-clock-slider").slider({slide:function(a,b){Eb.clockSliderMoved(b.value)}}),$("#btn-mass-start").addClass("active"),$("#btn-real-time").removeClass("active"),xb=new Image,zb=new Events,Ab=new Courses,Db=new a,Bb=new Results,Cb=new Controls,Eb=new Animation,Gb=new Draw,Mb=null,Nb=!0,Hb=!0,$("#rg2-header-container").css("color",rg2Config.header_text_colour),$("#rg2-header-container").css("background",rg2Config.header_colour),$("#rg2-about-dialog").hide(),$("#rg2-splits-display").hide(),$("#rg2-track-names").hide(),$("#rg2-add-new-event").hide(),$("#rg2-load-progress-bar").progressbar({value:!1}),$("#rg2-load-progress-label").text(""),$("#rg2-load-progress").hide(),$("#btn-about").click(function(){p()}),$("#rg2-resize-info").click(function(){s()}),$("#rg2-hide-info-panel-control").click(function(){s()}),$("#btn-mass-start").click(function(){Eb.setReplayType(_b.MASS_START_REPLAY)}),$("#btn-real-time").click(function(){Eb.setReplayType(_b.REAL_TIME_REPLAY)}),$("#rg2-control-select").prop("disabled",!0).change(function(){Eb.setStartControl($("#rg2-control-select").val())}),$("#rg2-name-select").prop("disabled",!0).change(function(){Gb.setName(parseInt($("#rg2-name-select").val(),10))}),$("#rg2-course-select").change(function(){Gb.setCourse(parseInt($("#rg2-course-select").val(),10))}),$("#rg2-enter-name").click(function(){Gb.setNameAndTime()}).keyup(function(){Gb.setNameAndTime()}),$("#rg2-new-comments").focus(function(){var a=$("#rg2-new-comments").val();a===d(_b.DEFAULT_NEW_COMMENT)&&$("#rg2-new-comments").val("")}),c(),$("#rg2-option-controls").hide(),$("#spn-map-intensity").spinner({max:100,min:0,step:10,numberFormat:"n",spin:function(a,b){ac.mapIntensity=b.value,o(!1)}}).val(ac.mapIntensity),$("#spn-route-intensity").spinner({max:100,min:0,step:10,numberFormat:"n",spin:function(a,b){ac.routeIntensity=b.value,o(!1)}}).val(ac.routeIntensity),$("#spn-name-font-size").spinner({max:30,min:5,step:1,numberFormat:"n",spin:function(a,b){ac.replayFontSize=b.value,o(!1)}}).val(ac.replayFontSize),$("#spn-course-width").spinner({max:10,min:1,step:.5,spin:function(a,b){ac.courseWidth=b.value,o(!1)}}).val(ac.courseWidth),$("#spn-route-width").spinner({max:10,min:1,step:.5,spin:function(a,b){ac.routeWidth=b.value,o(!1)}}).val(ac.routeWidth),$("#spn-control-circle").spinner({max:50,min:3,step:1,spin:function(a,b){ac.circleSize=b.value,o(!1)}}).val(ac.circleSize),$("#chk-snap-toggle").prop("checked",ac.snap).click(function(a){ac.snap=a.target.checked?!0:!1}),$("#chk-show-three-seconds").prop("checked",ac.showGPSSpeed).click(function(){o(!1)}),$("#chk-show-GPS-speed").prop("checked",ac.showGPSSpeed).click(function(){o(!1)}),$("#btn-options").click(function(){q()}),$("#rg2-select-language").click(function(){var a;a=$("#rg2-select-language").val(),a!==wb.code&&("en"===a?(wb={},wb.code="en",h()):g(a))}),$("#rg2-animation-controls").hide(),$("#btn-save-route").button().click(function(){Gb.saveRoute()}),$("#btn-save-gps-route").button().click(function(){Gb.saveGPSRoute()}),$("#btn-move-all").prop("checked",!1),$("#btn-undo").click(function(){Gb.undoLastPoint()}),$("#btn-undo-gps-adjust").click(function(){Gb.undoGPSAdjust()}),$("#btn-reset-drawing").click(function(){Gb.resetDrawing()}),$("#btn-three-seconds").click(function(){Gb.waitThreeSeconds()}),$("#rg2-load-gps-file").change(function(a){Gb.uploadGPS(a)}),$("#btn-zoom-in").click(function(){ec(1)}),$("#btn-reset").click(function(){l()}),$("#btn-zoom-out").click(function(){ec(-1)}),$("#btn-start-stop").click(function(){Eb.toggleAnimation()}),$("#btn-faster").click(function(){Eb.goFaster()}),$("#btn-slower").click(function(){Eb.goSlower()}),$("#btn-toggle-names").click(function(){Eb.toggleNameDisplay(),o(!1)}).hide(),$("#rg2-splitsbrowser").hide(),$("#btn-show-splits").click(function(){$("#rg2-splits-table").empty().append(Eb.getSplitsTable()).dialog({width:"auto",buttons:{Ok:function(){$(this).dialog("close")}}})}),$("#btn-show-splits").hide(),$("#btn-toggle-controls").click(function(){Cb.toggleControlDisplay(),o(!1)}).hide(),$("#spn-tail-length").spinner({max:600,min:0,spin:function(a,b){Eb.setTailLength(b.value)}}).val(0),$("#btn-full-tails").prop("checked",!1).click(function(a){a.target.checked?(Eb.setFullTails(!0),$("#spn-tail-length").spinner("disable")):(Eb.setFullTails(!1),$("#spn-tail-length").spinner("enable"))}),Wb?(Fb=new Manager(rg2Config.keksi),$("#rg2-animation-controls").hide(),$("#rg2-create-tab").hide(),$("#rg2-edit-tab").hide(),$("#rg2-map-tab").hide(),$("#rg2-manage-login").show(),Xb.tabs("disable",_b.TAB_EVENTS),$("#rg2-draw-tab").hide(),$("#rg2-results-tab").hide(),$("#rg2-courses-tab").hide(),$("#rg2-events-tab").hide(),Xb.tabs("option","active",_b.TAB_LOGIN),yb=""):yb="Select an event",Zb.addEventListener("touchstart",bc,!1),Zb.addEventListener("touchmove",cc,!1),Zb.addEventListener("touchend",dc,!1),t($b),m(),window.addEventListener("resize",m,!1),Zb.addEventListener("DOMMouseScroll",fc,!1),Zb.addEventListener("mousewheel",fc,!1),Zb.addEventListener("mousedown",gc,!1),Zb.addEventListener("mousemove",hc,!1),Zb.addEventListener("mouseup",ic,!1),xb.addEventListener("load",function(){k()},!1),$(document).bind("contextmenu",function(a){a.preventDefault()}),e(),j(),setTimeout(function(){$("#rg2-container").show()},500)}function c(){try{"localStorage"in window&&null!==window.localStorage&&null!==localStorage.getItem("rg2-options")&&(ac=JSON.parse(localStorage.getItem("rg2-options")),ac.circleSize=20,0===ac.mapIntensity&&rg2.showWarningDialog("Warning","Your saved settings have 0% map intensity so the map is invisible. You can adjust this on the configuration menu"))}catch(a){console.log("Local storage not supported")}}function d(a){return wb.hasOwnProperty(a)?wb[a]:a}function e(){var a;$("#rg2-events-tab a").text(d("Events")),$("#rg2-courses-tab a").text(d("Courses")),$("#rg2-results-tab a").text(d("Results")),$("#rg2-draw-tab a").text(d("Draw")),$("#rg2-hide-info-panel-icon").prop("title",d("Hide info panel")),$("#btn-about").prop("title",d("Help")),$("#btn-options").prop("title",d("Options")),$("#btn-zoom-out").prop("title",d("Zoom out")),$("#btn-zoom-in").prop("title",d("Zoom in")),$("#btn-reset").prop("title",d("Reset")),$("#btn-show-splits").prop("title",d("Splits")),a=$("#btn-toggle-controls").prop("title"),$("#btn-toggle-controls").prop("title",d(a)),a=$("#btn-toggle-names").prop("title"),$("#btn-toggle-names").prop("title",d(a)),$("#rg2-splits-table").prop("title",d("Splits table")),$("#btn-slower").prop("title",d("Slower")),$("#btn-faster").prop("title",d("Faster")),a=$("#btn-start-stop").prop("title"),$("#btn-start-stop").prop("title",d(a)),$("#btn-real-time").prop("title",d("Real time")),$("#btn-mass-start").prop("title",d("Mass start")),$("label[for=rg2-control-select]").prop("textContent",d("Start at")),$("label[for=btn-full-tails]").prop("textContent",d("Full tails")),$("label[for=spn-tail-length]").prop("textContent",d("Length")),$(".rg2-options-dialog .ui-dialog-title").text(d("Configuration options")),$("label[for=rg2-select-language]").prop("textContent",d("Language")),$("label[for=spn-map-intensity]").prop("textContent",d("Map intensity %")),$("label[for=spn-route-intensity]").prop("textContent",d("Route intensity %")),$("label[for=spn-route-width]").prop("textContent",d("Route width")),$("label[for=spn-name-font-size]").prop("textContent",d("Replay label font size")),$("label[for=spn-course-width]").prop("textContent",d("Course overprint width")),$("label[for=spn-control-circle]").prop("textContent",d("Control circle size")),$("label[for=chk-snap-toggle]").prop("textContent",d("Snap to control when drawing")),$("label[for=chk-show-three-seconds]").prop("textContent",d("Show +3 time loss for GPS routes")),$("label[for=chk-show-GPS-speed]").prop("textContent",d("Show GPS speed colours")),$("#btn-undo").button("option","label",d("Undo")),$("#btn-undo-gps-adjust").button("option","label",d("Undo")),$("#btn-save-route").button("option","label",d("Save")),$("#btn-reset-drawing").button("option","label",d("Reset")),$("#btn-three-seconds").button("option","label",d("+3 sec")),$("#btn-save-gps-route").button("option","label",d("Save GPS route")),$("#rg2-draw-title").text(d("Draw route")),$("#draw-text-1").text(d("Left click to add/lock/unlock a handle")),$("#draw-text-2").text(d("Green - draggable")),$("#draw-text-3").text(d("Red - locked")),$("#draw-text-4").text(d("Right click to delete a handle")),$("#draw-text-5").text(d("Drag a handle to adjust track around locked point(s)")),$("#rg2-load-gps-title").text(d("Load GPS file (GPX or TCX)")),$("label[for=rg2-course-select]").prop("textContent",d("Select course")),$("label[for=rg2-name-select]").prop("textContent",d("Select name")),$("label[for=btn-move-all]").prop("textContent",d("Move track and map together (or right click-drag)"))}function f(){$("#rg2-select-language").empty();var a,b,c=document.getElementById("rg2-select-language");b=document.createElement("option"),b.value="en",b.text="en: English","en"===wb.code&&(b.selected=!0),c.options.add(b);for(a in rg2Config.languages)b=document.createElement("option"),b.value=a,b.text=a+": "+rg2Config.languages[a],wb.code===a&&(b.selected=!0),c.options.add(b)}function g(a){$.getJSON(rg2Config.json_url,{id:a,type:"lang",cache:!1}).done(function(a){wb=a.data,h()}).fail(function(a,b,c){i("Language request failed: "+c)})}function h(){$("#rg2-event-list").menu("destroy"),x();var a=zb.getActiveEventID();null!==a&&(Ab.removeAllFromDisplay(),Bb.removeAllTracksFromDisplay(),Eb.resetAnimation(),Gb.initialiseDrawing(zb.hasResults(a)),D(),K()),e(),Xb.tabs("refresh"),o(!1)}function i(a){$("#rg2-load-progress").hide(),$("body").css("cursor","auto"),rg2.showWarningDialog("Configuration error",a)}function j(){$.getJSON(rg2Config.json_url,{type:"events",cache:!1}).done(function(a){if(console.log("Events: "+a.data.length),zb.deleteAllEvents(),$.each(a.data,function(){zb.addEvent(new Event(this))}),x(),Vb){var b=zb.getEventIDForKartatID(Vb);void 0!==b&&y(b)}Wb&&Fb.eventListLoaded()}).fail(function(a,b,c){i("Events request failed: "+c)})}function k(){l(),Wb&&Fb.mapLoadCallback()}function l(){var a,b=Zb.height/xb.height;Jb=Zb.width/2,Kb=Zb.height/2,Lb=1,Mb=null,Nb=!0,a=1>b?b:1,Hb||window.innerWidth>=_b.BIG_SCREEN_BREAK_POINT?$b.setTransform(a,0,0,a,Xb.outerWidth(),0):$b.setTransform(a,0,0,a,0,0),$b.save(),o(!1)}function m(){Ib=_b.DEFAULT_SCALE_FACTOR;var a=window.innerWidth,b=window.innerHeight;$("#rg2-container").css("height",b-36),Zb.width=a,Zb.height=b-36,z(),l()}function n(){var a=Xb.tabs("option","active");switch(a){case _b.TAB_DRAW:Ab.removeAllFromDisplay(),Gb.showCourseInProgress()}o(!1)}function o(a){if($b.save(),$b.setTransform(1,0,0,1,0,0),$b.fillStyle=_b.WHITE,$b.fillRect(0,0,$b.canvas.width,$b.canvas.height),$b.restore(),$b.globalAlpha=ac.mapIntensity/100,xb.height>0){$b.drawImage(xb,0,0);var b=Xb.tabs("option","active");b===_b.TAB_DRAW?(Ab.drawCourses(_b.DIM),Cb.drawControls(!1),Bb.drawTracks(),Gb.drawNewTrack()):b===_b.TAB_CREATE?Fb.drawControls():(Ab.drawCourses(_b.FULL_INTENSITY),Bb.drawTracks(),Cb.drawControls(!1),Eb.runAnimation(a?!0:!1))}else $b.font="30pt Arial",$b.textAlign="center",$b.fillStyle=_b.BLACK,$b.fillText(d(yb),Zb.width/2,Zb.height/2)}function p(){$("#rg2-event-stats").empty().html(w()),$("#rg2-about-dialog").dialog({width:Math.min(1e3,.8*Zb.width),maxHeight:Math.min(1e3,.9*Zb.height),title:"RG2 Version "+_b.RG2VERSION,resizable:!1,buttons:{Ok:function(){$(this).dialog("close")}}})}function q(){$("#rg2-option-controls").dialog({minWidth:400,title:d("Configuration options"),dialogClass:"rg2-options-dialog",close:function(){r()}})}function r(){try{"localStorage"in window&&null!==window.localStorage&&(ac.snap=$("#chk-snap-toggle").prop("checked"),ac.showThreeSeconds=$("#chk-show-three-seconds").prop("checked"),ac.showGPSSpeed=$("#chk-show-GPS-speed").prop("checked"),localStorage.setItem("rg2-options",JSON.stringify(ac)))}catch(a){return}}function s(){Hb?(Hb=!1,$("#rg2-resize-info").prop("title",d("Show info panel")),$("#rg2-hide-info-panel-control").css("left","0px"),$("#rg2-hide-info-panel-icon").removeClass("fa-chevron-left").addClass("fa-chevron-right").prop("title",d("Show info panel")),Xb.hide()):(Hb=!0,$("#rg2-resize-info").prop("title",d("Hide info panel")),$("#rg2-hide-info-panel-control").css("left","366px"),$("#rg2-hide-info-panel-icon").removeClass("fa-chevron-right").addClass("fa-chevron-left").prop("title",d("Hide info panel")),Xb.show()),l()}function t(a){var b=document.createElementNS("http://www.w3.org/2000/svg","svg"),c=b.createSVGMatrix();a.getTransform=function(){return c};var d=[],e=a.save;a.save=function(){return d.push(c.translate(0,0)),e.call(a)};var f=a.restore;a.restore=function(){return c=d.pop(),f.call(a)};var g=a.scale;a.scale=function(b,d){return c=c.scaleNonUniform(b,d),g.call(a,b,d)};var h=a.rotate;a.rotate=function(b){return c=c.rotate(180*b/Math.PI),h.call(a,b)};var i=a.translate;a.translate=function(b,d){return c=c.translate(b,d),i.call(a,b,d)};var j=a.transform;a.transform=function(d,e,f,g,h,i){var k=b.createSVGMatrix();return k.a=d,k.b=e,k.c=f,k.d=g,k.e=h,k.f=i,c=c.multiply(k),j.call(a,d,e,f,g,h,i)};var k=a.setTransform;a.setTransform=function(b,d,e,f,g,h){return c.a=b,c.b=d,c.c=e,c.d=f,c.e=g,c.f=h,k.call(a,b,d,e,f,g,h)};var l=b.createSVGPoint();a.transformedPoint=function(a,b){return l.x=a,l.y=b,l.matrixTransform(c.inverse())}}function u(a,b){var c="<div>"+b+"</div>";$(c).dialog({title:a})}function v(a,b,c,d){return Math.sqrt(Math.pow(a-c,2)+Math.pow(b-d,2))}function w(){var a,b,c;return null===zb.getActiveEventID()?"":(b=Ab.getCoursesForEvent(),c=Bb.getResultsInfo(),a="<h3>"+d("Event statistics")+"</h3>",a+="<p><strong>"+d("Courses")+":</strong> "+b.length+" <strong>"+d("Results")+":</strong> "+c.results,a+="<strong> "+d("Drawn routes")+":</strong> "+c.drawnroutes+" <strong>"+d("GPS routes"),a+=":</strong> "+c.gpsroutes+" ("+c.percent+"%)</p>",a+="<p><strong>"+d("Total time")+":</strong> "+c.time+"</p>",a+="<p><strong>"+d("Map ")+":</strong> ID "+zb.getActiveMapID()+", "+xb.width+" x "+xb.height+" pixels </p>",a+="<p><strong>"+d("Comments")+":</strong></p>",a+=Bb.getComments(),a=a.replace(/&amp;/g,"&"))}function x(){var a=zb.formatEventsAsMenu();$("#rg2-event-list").append(a).menu({select:function(a,b){y(b.item[0].id)}})}function y(a){$("#rg2-event-list > li").removeClass("rg2-active-event").filter("#"+a).addClass("rg2-active-event"),$("body").css("cursor","wait"),$("#rg2-load-progress-label").text(d("Loading courses")),$("#rg2-load-progress").show(),Ab.deleteAllCourses(),Cb.deleteAllControls(),Eb.resetAnimation(),Bb.deleteAllResults(),zb.setActiveEventID(a),Gb.initialiseDrawing(zb.hasResults(a)),A(rg2Config.maps_url+zb.getMapFileName()),o(!1),z(),$.getJSON(rg2Config.json_url,{id:zb.getKartatEventID(),type:"courses",cache:!1}).done(function(a){$("#rg2-load-progress-label").text(d("Saving courses")),console.log("Courses: "+a.data.length),$.each(a.data,function(){Ab.addCourse(new Course(this,zb.isScoreEvent()))}),Ab.updateCourseDropdown(),Ab.generateControlList(Cb),$("#btn-toggle-controls").show(),$("#btn-toggle-names").show(),B()}).fail(function(a,b,c){i("Courses request failed for event "+zb.getKartatEventID()+": "+c)})}function z(){var a;window.innerWidth>=_b.BIG_SCREEN_BREAK_POINT?(a=zb.getActiveEventName()+" "+zb.getActiveEventDate(),Yb.html(a).show()):window.innerWidth>_b.SMALL_SCREEN_BREAK_POINT?(a=zb.getActiveEventName(),Yb.html(a).show()):Yb.hide(),zb.mapIsGeoreferenced()?$("#rg2-event-title-icon").addClass("fa fa-globe"):$("#rg2-event-title-icon").removeClass("fa fa-globe")}function A(a){yb="Loading map",xb.src=a}function B(){$("#rg2-load-progress-label").text(d("Loading results")),$.getJSON(rg2Config.json_url,{id:zb.getKartatEventID(),type:"results",cache:!1}).done(function(a){console.log("Results: "+a.data.length),$("#rg2-load-progress-label").text(d("Saving results"));var b=zb.isScoreEvent();Ab.getNumberOfCourses()>0&&Bb.addResults(a.data,b),Ab.setResultsCount(),b&&(Cb.deleteAllControls(),Bb.generateScoreCourses(),Ab.generateControlList(Cb)),$("#rg2-result-list").accordion("refresh"),C()}).fail(function(a,b,c){i("Results request failed for event "+zb.getKartatEventID()+": "+c)})}function C(){$("#rg2-load-progress-label").text(d("Loading routes")),$.getJSON(rg2Config.json_url,{id:zb.getKartatEventID(),type:"tracks",cache:!1}).done(function(a){if($("#rg2-load-progress-label").text(d("Saving routes")),console.log("Tracks: "+a.data.length),Ab.getNumberOfCourses()>0&&Bb.addTracks(a.data),D(),K(),Eb.updateAnimationDetails(),$("body").css("cursor","auto"),Wb)Fb.eventFinishedLoading();else{Xb.tabs("enable",_b.TAB_COURSES),Xb.tabs("enable",_b.TAB_RESULTS),Xb.tabs("enable",_b.TAB_DRAW);var b=Xb.tabs("option","active");b!==_b.TAB_DRAW&&Xb.tabs("option","active",_b.TAB_COURSES),Xb.tabs("refresh"),$("#btn-show-splits").show(),rg2Config.enable_splitsbrowser&&zb.hasResults()?$("#rg2-splitsbrowser").off().click(function(){window.open(rg2Config.json_url+"?type=splitsbrowser&id="+zb.getKartatEventID())}).show():$("#rg2-splitsbrowser").off().hide()}$("#rg2-load-progress-label").text(""),$("#rg2-load-progress").hide(),o(!1)}).fail(function(a,b,c){i("Routes request failed for event "+zb.getKartatEventID()+": "+c)})}function D(){$("#rg2-course-table").empty().append(Ab.formatCoursesAsTable()),$(".courselist").click(function(a){var b=parseInt(a.currentTarget.id,10);a.target.checked?(Ab.putOnDisplay(b),$(".showcourse").filter("#"+b).prop("checked",!0)):(Ab.removeFromDisplay(b),$(".allcourses").prop("checked",!1),$(".showcourse").filter("#"+b).prop("checked",!1)),o(!1)}),$(".allcourses").click(function(a){a.target.checked?(Ab.putAllOnDisplay(),$(".courselist").prop("checked",!0),$(".showcourse").prop("checked",!0)):(Ab.removeAllFromDisplay(),$(".courselist").prop("checked",!1),$(".showcourse").prop("checked",!1)),o(!1)}),$(".tracklist").click(function(a){var b=a.target.id;a.target.checked?Bb.putTracksOnDisplay(b):(Bb.removeTracksFromDisplay(b),$(".alltracks").prop("checked",!1)),o(!1)}),$(".alltracks").click(function(a){a.target.checked?(Bb.putAllTracksOnDisplay(),$(".tracklist").prop("checked",!0)):(Bb.removeAllTracksFromDisplay(),$(".tracklist").prop("checked",!1)),o(!1)})}function E(a,b,c,d){var e=Math.atan2(d-b,c-a);return 0>e&&(e+=2*Math.PI),e}function F(a,b,c,d){var e=c-a,f=e.toRad(),g=d-b,h=g.toRad(),i=Math.sin(f/2)*Math.sin(f/2)+Math.cos(a.toRad())*Math.cos(c.toRad())*Math.sin(h/2)*Math.sin(h/2),j=2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i));return 6371009*j}function G(a){if(!a)return 0;var b=0,c=a.split(":");return 2===c.length?b=60*parseInt(c[0],10)+parseInt(c[1],10):3===c.length&&(b=3600*parseInt(c[0],10)+60*parseInt(c[1],10)+parseInt(c[2],10)),isNaN(b)?0:b}function H(a){if(!a)return 0;var b=0,c=a.split(":");return b=3600*parseInt(c[0],10)+60*parseInt(c[1],10)+parseInt(c[2],10),isNaN(b)?0:b}function I(a){if(!a)return 0;var b=0,c=a.split(":");return b=3600*parseInt(c[0],10)+60*parseInt(c[1],10),isNaN(b)?0:b}function J(a){var b,c=Math.floor(a/60);b=c;var d=a-60*c;return b+=10>d?":0"+d:":"+d}function K(){var a=Bb.formatResultListAsAccordion();a=a.replace(/&amp;/g,"&"),$("#rg2-result-list").empty().append(a),$("#rg2-result-list").accordion("refresh"),Xb.tabs("refresh"),$(".showcourse").click(function(a){a.stopPropagation();var b=a.target.id;a.target.checked?(Ab.putOnDisplay(b),$(".courselist").filter("#"+b).prop("checked",!0)):(Ab.removeFromDisplay(b),$(".courselist").filter("#"+b).prop("checked",!1),$(".allcourses").prop("checked",!1)),o(!1)}),$(".showscorecourse").click(function(a){Bb.displayScoreCourse(parseInt(a.target.id,10),a.target.checked),o(!1)}),$(".showtrack").click(function(a){a.target.checked?Bb.putOneTrackOnDisplay(a.target.id):Bb.removeOneTrackFromDisplay(a.target.id),o(!1)}),$(".showreplay").click(function(a){a.target.checked?Eb.addRunner(new Runner(parseInt(a.target.id,10)),!0):Eb.removeRunner(parseInt(a.target.id,10),!0),o(!1)}),$(".allcoursetracks").click(function(a){var b,c;b=Bb.getAllRunnersForCourse(parseInt(a.target.id,10));var d;for(d=0;d<b.length;d+=1)a.target.checked?Bb.putOneTrackOnDisplay(b[d]):Bb.removeOneTrackFromDisplay(b[d]);c=".showtrack-"+a.target.id,a.target.checked?$(c).prop("checked",!0):$(c).prop("checked",!1),o(!1)}),$(".allcoursereplay").click(function(a){var b,c;b=Bb.getAllRunnersForCourse(parseInt(a.target.id,10)),Eb.animateRunners(b,a.target.checked),c=".showreplay-"+a.target.id,a.target.checked?$(c).prop("checked",!0):$(c).prop("checked",!1),o(!1)}),0===Ab.getHighestControlNumber()?$("#rg2-control-select").prop("disabled",!0):$("#rg2-control-select").prop("disabled",!1)}function L(a){return Ab.getFullCourse(a)}function M(a){return Ab.getCourseName(a)}function N(a){return Bb.countResultsByCourseID(a)}function O(a,b,c,d,e){return Cb.drawStart(a,b,c,d,e)}function P(a,b,c,d){return Cb.drawSingleControl(a,b,c,d)}function Q(a,b,c,d){return Cb.drawFinish(a,b,c,d)}function R(a){return Bb.getFullResult(a)}function S(){return Ab.getHighestControlNumber()}function T(a){return zb.getKartatEventID(a)}function U(){return zb.hasResults()}function V(a){return Ab.incrementTracksCount(a)}function W(a){Ab.putOnDisplay(a)}function X(a,b){Bb.putScoreCourseOnDisplay(a,b)}function Y(a){Ab.removeFromDisplay(a)}function Z(a){Bb.createNameDropdown(a)}function _(a){return Bb.getRunnerName(a)}function ab(a){return Bb.resultIDExists(a)}function bb(a){return Bb.getTimeForID(a)}function cb(a){return Bb.getSplitsForID(a)}function db(){return zb.mapIsGeoreferenced()}function eb(){var a={};return a.height=xb.height,a.width=xb.width,a}function fb(){return zb.getWorldFile()}function gb(){return Gb.getControlX()}function hb(){return Gb.getControlY()}function ib(){return zb.getActiveEventID()}function jb(){zb.createEventEditDropdown()}function kb(){return ac.routeWidth}function lb(){var a={},b=eb(),c=Math.pow(Math.min(b.height,b.width)/1500,.5);c=Math.min(c,5),c=Math.max(c,.5);var d=Math.round(ac.circleSize*c);return a.controlRadius=d,a.finishInnerRadius=d*(5/6),a.finishOuterRadius=d*(7/6),a.startTriangleLength=d*(7/6),a.overprintWidth=ac.courseWidth,a.font=d+"pt Arial",a}function mb(){return ac.routeIntensity/100}function nb(){return ac.replayFontSize}function ob(){return $("#chk-show-three-seconds").prop("checked")}function pb(){return $("#chk-show-GPS-speed").prop("checked")}function qb(a){return zb.getEventInfo(a)}function rb(){return Ab.getCoursesForEvent()}function sb(){return Bb.getRoutesForEvent()}function tb(){return Db.getNextColour()}function ub(a,b,c,d){Ab.updateScoreCourse(a,b,c,d)}function vb(){return ac.snap}var wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,Sb,Tb,Ub,Vb,Wb,Xb,Yb,Zb=$("#rg2-map-canvas")[0],$b=Zb.getContext("2d"),_b={DEFAULT_SCALE_FACTOR:1.1,TAB_EVENTS:0,TAB_COURSES:1,TAB_RESULTS:2,TAB_DRAW:3,TAB_LOGIN:4,TAB_CREATE:5,TAB_EDIT:6,TAB_MAP:7,DEFAULT_NEW_COMMENT:"Type your comment",DEFAULT_EVENT_COMMENT:"Comments (optional)",GPS_RESULT_OFFSET:5e4,MASS_START_REPLAY:1,REAL_TIME_REPLAY:2,MASS_START_BY_CONTROL:99999,VERY_HIGH_TIME_IN_SECS:99999,BIG_SCREEN_BREAK_POINT:800,SMALL_SCREEN_BREAK_POINT:500,PURPLE:"#b300ff",RED:"#ff0000",GREEN:"#00ff00",WHITE:"#ffffff",BLACK:"#ffoooo",RUNNER_DOT_RADIUS:6,DIM:.75,FULL_INTENSITY:1,NORMAL_EVENT:1,EVENT_WITHOUT_RESULTS:2,SCORE_EVENT:3,RG2VERSION:"0.9.6",TIME_NOT_FOUND:9999,SPLITS_NOT_FOUND:9999,RIGHT_CLICK:3},ac={mapIntensity:100,routeIntensity:100,replayFontSize:12,courseWidth:3,routeWidth:4,circleSize:20,snap:!0,showThreeSeconds:!1,showGPSSpeed:!1};Number.prototype.toRad=function(){return this*Math.PI/180},a.prototype={Constructor:a,getNextColour:function(){return this.colourIndex+=1,this.colourIndex===this.colours.length&&(this.colourIndex=0),this.colours[this.colourIndex]}};var bc=function(a){a.preventDefault(),a.touches.length>1&&(Qb=$b.transformedPoint(a.touches[0].pageX,a.touches[0].pageY),Rb=$b.transformedPoint(a.touches[1].pageX,a.touches[1].pageY),Pb=!0),Jb=a.touches[0].pageX,Kb=a.touches[0].pageY,jc(a)},cc=function(a){var b,c;a.touches.length>1?Pb||(Qb=$b.transformedPoint(a.touches[0].pageX,a.touches[0].pageY),Rb=$b.transformedPoint(a.touches[1].pageX,a.touches[1].pageY),Pb=!0):Pb=!1,Pb&&a.touches.length>1?(Sb=$b.transformedPoint(a.touches[0].pageX,a.touches[0].pageY),Tb=$b.transformedPoint(a.touches[1].pageX,a.touches[1].pageY),b=v(Qb.x,Qb.y,Rb.x,Rb.y),c=v(Sb.x,Sb.y,Tb.x,Tb.y),b/c>1.1?(ec(-1),Qb=Sb,Rb=Tb):.9>b/c&&(ec(1),Qb=Sb,Rb=Tb)):(Jb=a.touches[0].pageX,Kb=a.touches[0].pageY,kc(a))},dc=function(a){lc(a),Pb=!1},ec=function(a){var b=Math.pow(Ib,a),c=Lb*b;if(50>c&&c>.05){Lb=c;var d=$b.transformedPoint(Jb,Kb);$b.translate(d.x,d.y),$b.scale(b,b),$b.translate(-d.x,-d.y),$b.save(),o(!1)}},fc=function(a){var b=a.wheelDelta?a.wheelDelta/40:a.detail?-a.detail:0;return b&&ec(b),a.stopPropagation(),a.preventDefault()&&!1},gc=function(a){return Jb=a.offsetX||a.layerX-Zb.offsetLeft,Kb=a.offsetY||a.layerY-Zb.offsetTop,jc(a),a.stopPropagation(),a.preventDefault()&&!1},hc=function(a){return Jb=a.offsetX||a.layerX-Zb.offsetLeft,Kb=a.offsetY||a.layerY-Zb.offsetTop,kc(a),a.stopPropagation(),a.preventDefault()&&!1},ic=function(a){return lc(a),a.stopPropagation(),a.preventDefault()&&!1},jc=function(a){Mb=$b.transformedPoint(Jb,Kb),Nb=!1,Ob=a.which},kc=function(a){if(Mb){var b=$b.transformedPoint(Jb,Kb);Math.abs(b.x-Mb.x)+Math.abs(b.y-Mb.y)>5&&(Gb.gpsFileLoaded()?Gb.adjustTrack(Math.round(Mb.x),Math.round(Mb.y),Math.round(b.x),Math.round(b.y),Ob,a.shiftKey,a.ctrlKey):Xb.tabs("option","active")===_b.TAB_CREATE?Fb.adjustControls(Math.round(Mb.x),Math.round(Mb.y),Math.round(b.x),Math.round(b.y),Ob,a.shiftKey,a.ctrlKey):$b.translate(b.x-Mb.x,b.y-Mb.y),Nb=!0,o(!1))}},lc=function(a){var b=Xb.tabs("option","active");Nb?b===_b.TAB_CREATE?Fb.dragEnded():Gb.dragEnded():b===_b.TAB_CREATE?Fb.mouseUp(Math.round(Mb.x),Math.round(Mb.y)):Gb.mouseUp(Math.round(Mb.x),Math.round(Mb.y),a.which),Mb=null,o(!1)
};return{t:d,init:b,config:_b,options:ac,redraw:o,getOverprintDetails:lb,getRouteWidth:kb,getRouteIntensity:mb,getReplayFontSize:nb,ctx:$b,getMapSize:eb,loadNewMap:A,loadEvent:y,loadEventList:j,eventHasResults:U,mapIsGeoreferenced:db,getWorldFile:fb,getFullResult:R,drawStart:O,drawSingleControl:P,drawFinish:Q,getTimeForID:bb,getSplitsForID:cb,resultIDExists:ab,getRunnerName:_,putOnDisplay:W,putScoreCourseOnDisplay:X,removeFromDisplay:Y,createNameDropdown:Z,incrementTracksCount:V,getKartatEventID:T,getActiveEventID:ib,getHighestControlNumber:S,getCourseDetails:L,getCourseName:M,countResultsByCourseID:N,getControlX:gb,getControlY:hb,createEventEditDropdown:jb,showThreeSeconds:ob,showGPSSpeed:pb,getEventInfo:qb,getCoursesForEvent:rb,getRoutesForEvent:sb,getNextRouteColour:tb,updateScoreCourse:ub,getSnapToControl:vb,getAngle:E,showWarningDialog:u,getDistanceBetweenPoints:v,getSecsFromMMSS:G,getSecsFromHHMMSS:H,getSecsFromHHMM:I,formatSecsAsMMSS:J,getLatLonDistance:F}}();$(document).ready(rg2.init),Animation.prototype={Constructor:Animation,resetAnimation:function(){this.runners.length=0,clearInterval(this.timer),this.timer=null,this.updateAnimationDetails(),$("#btn-start-stop").removeClass("fa-pause").addClass("fa-play"),$("#btn-start-stop").prop("title",rg2.t("Run"))},animateRunners:function(a,b){var c;for(c=0;c<a.length;c+=1)b?this.addRunner(new Runner(a[c]),!1):this.removeRunner(a[c],!1);this.updateAnimationDetails()},addRunner:function(a,b){var c;for(c=0;c<this.runners.length;c+=1)if(this.runners[c].runnerid===a.runnerid)return;this.runners.push(a),b&&this.updateAnimationDetails()},updateAnimationDetails:function(){var a=this.getAnimationNames();""!==a?($("#rg2-track-names").empty(),$("#rg2-track-names").append(a),$("#rg2-track-names").show(),$("#rg2-animation-controls").show()):($("#rg2-track-names").hide(),$("#rg2-animation-controls").hide()),this.calculateAnimationRange(),$("#rg2-clock").text(this.formatSecsAsHHMMSS(this.animationSecs))},clockSliderMoved:function(a){this.resetAnimationTime(a),rg2.redraw(!1)},getAnimationNames:function(){var a="";if(this.runners.length<1)return a;for(var b=0;b<this.runners.length;b+=1)a+="<p style='color:"+this.runners[b].colour+";'>"+this.runners[b].coursename+" "+this.runners[b].name+"</p>";return a},getSplitsTable:function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n;if(this.runners.length<1)return"<p>Select runners on Results tab.</p>";rg2.mapIsGeoreferenced()?(f=rg2.getMapSize(),g=rg2.getDistanceBetweenPoints(0,0,f.width,f.height),j=rg2.getWorldFile(),m=j.C,k=j.F,n=j.A*f.width+j.B*f.height+j.C,l=j.D*f.width+j.E*f.height+j.F,h=rg2.getLatLonDistance(k,m,l,n),e=h/g,i="metres"):(e=1,i="pixels");var o=0,p=[],q=0;for(b=0;b<this.runners.length;b+=1)this.runners[b].splits.length>o&&(o=this.runners[b].splits.length);for(o-=2,a="<table class='splitstable'><tr><th>Course</th><th>Name</th>",b=1;o>=b;b+=1)a+="<th>"+b+"</th>";for(a+="<th>F</th></tr>",b=0;b<this.runners.length;b+=1){for(d=this.runners[b],q=0,a+="<tr class='splitsname-row'><td>"+d.coursename+"</td><td>"+d.name+"</td>",c=1;c<d.splits.length;c+=1)a+="<td>"+rg2.formatSecsAsMMSS(d.splits[c])+"</td>",p[c]=d.splits[c]-q,q=d.splits[c];for(a+="</tr><tr class='splitstime-row'><td></td><td></td>",c=1;c<d.splits.length;c+=1)a+="<td>"+rg2.formatSecsAsMMSS(p[c])+"</td>";for(a+="</tr><tr class='splitsdistance-row'><td></td><td>"+Math.round(e*d.cumulativeTrackDistance[d.cumulativeTrackDistance.length-1])+" "+i+"</td>",c=1;c<d.splits.length;c+=1)a+="<td>"+Math.round(e*d.legTrackDistance[c])+"</td>"}return a+="</tr></table>"},removeRunner:function(a,b){for(var c=0;c<this.runners.length;c+=1)this.runners[c].runnerid==a&&this.runners.splice(c,1);b&&this.updateAnimationDetails()},toggleAnimation:function(){null===this.timer?(this.startAnimation(),$("#btn-start-stop").removeClass("fa-play").addClass("fa-pause"),$("#btn-start-stop").prop("title",rg2.t("Pause"))):(this.stopAnimation(),$("#btn-start-stop").removeClass("fa-pause").addClass("fa-play"),$("#btn-start-stop").prop("title",rg2.t("Run")))},startAnimation:function(){null===this.timer&&(this.timer=setInterval(this.timerExpired.bind(this),this.timerInterval))},calculateAnimationRange:function(){this.earliestStartSecs=86400,this.latestFinishSecs=0,this.slowestTimeSecs=0;for(var a=0;a<this.runners.length;a+=1)this.runners[a].starttime<this.earliestStartSecs&&(this.earliestStartSecs=this.runners[a].starttime),this.runners[a].starttime+this.runners[a].x.length>this.latestFinishSecs&&(this.latestFinishSecs=this.runners[a].starttime+this.runners[a].x.length),this.runners[a].x.length>this.slowestTimeSecs&&(this.slowestTimeSecs=this.runners[a].x.length);this.resetAnimationTime(0)},stopAnimation:function(){clearInterval(this.timer),this.timer=null},timerExpired:function(){rg2.redraw(!0)},setFullTails:function(a){this.useFullTails=a?!0:!1,rg2.redraw(!1)},setTailLength:function(a){this.tailLength=60*a,rg2.redraw(!1)},setStartControl:function(a){var b;if(this.massStartControl=parseInt(a,10),this.massStartControl===rg2.config.MASS_START_BY_CONTROL)for(this.massStartControl=0,this.massStartByControl=!0,b=0;b<this.runners.length;b+=1)this.runners[b].nextStopTime=this.runners[b].splits[1];else for(this.massStartByControl=!1,b=0;b<this.runners.length;b+=1)this.runners[b].nextStopTime=rg2.config.VERY_HIGH_TIME_IN_SECS;this.resetAnimationTime(0)},setReplayType:function(a){a===rg2.config.MASS_START_REPLAY?(this.realTime=!1,$("#btn-mass-start").addClass("active"),$("#btn-real-time").removeClass("active"),rg2.getHighestControlNumber()>0&&$("#rg2-control-select").prop("disabled",!1)):(this.realTime=!0,$("#btn-mass-start").removeClass("active"),$("#btn-real-time").addClass("active"),$("#rg2-control-select").prop("disabled",!0)),this.resetAnimationTime(0)},resetAnimationTime:function(a){this.realTime?(this.animationSecs=a>0?a:this.earliestStartSecs,this.startSecs=this.earliestStartSecs,$("#rg2-clock-slider").slider("option","max",this.latestFinishSecs),$("#rg2-clock-slider").slider("option","min",this.earliestStartSecs)):(this.animationSecs=a>0?a:0,this.startSecs=0,$("#rg2-clock-slider").slider("option","max",this.slowestTimeSecs),$("#rg2-clock-slider").slider("option","min",0)),$("#rg2-clock-slider").slider("value",this.animationSecs),$("#rg2-clock").text(this.formatSecsAsHHMMSS(this.animationSecs))},toggleNameDisplay:function(){var a="";this.displayNames?this.displayInitials?(this.displayNames=!1,this.displayInitials=!1,a="Show names"):(this.displayInitials=!0,a="Hide names"):(this.displayNames=!0,a="Show initials"),$("#btn-toggle-names").prop("title",rg2.t(a))},runAnimation:function(a){var b;this.realTime?this.animationSecs<this.latestFinishSecs&&a&&(this.animationSecs+=this.deltaSecs):this.animationSecs<this.slowestTimeSecs&&a&&(this.animationSecs+=this.deltaSecs),$("#rg2-clock-slider").slider("value",this.animationSecs),$("#rg2-clock").text(this.formatSecsAsHHMMSS(this.animationSecs)),rg2.ctx.lineWidth=rg2.getRouteWidth(),rg2.ctx.globalAlpha=1;var c,d,e,f,g;for(g=this.useFullTails?this.startSecs+1:Math.max(this.animationSecs-this.tailLength,this.startSecs+1),e=0;e<this.runners.length;e+=1){for(c=this.runners[e],d=this.realTime?c.starttime:0===this.massStartControl||c.splits.length<this.massStartControl?0:-1*c.splits[this.massStartControl],rg2.ctx.strokeStyle=c.colour,rg2.ctx.globalAlpha=rg2.getRouteIntensity(),rg2.ctx.beginPath(),rg2.ctx.moveTo(c.x[g-d],c.y[g-d]),f=g;f<=this.animationSecs;f+=1)f>d&&f-d<c.nextStopTime&&rg2.ctx.lineTo(c.x[f-d],c.y[f-d]);rg2.ctx.stroke(),rg2.ctx.fillStyle=c.colour,rg2.ctx.beginPath(),f-d<c.nextStopTime?f-=d:f=c.nextStopTime,rg2.ctx.arc(c.x[f]+rg2.config.RUNNER_DOT_RADIUS/2,c.y[f],rg2.config.RUNNER_DOT_RADIUS,0,2*Math.PI,!1),rg2.ctx.fill(),this.displayNames&&(rg2.ctx.fillStyle="black",rg2.ctx.font=rg2.getReplayFontSize()+"pt Arial",rg2.ctx.globalAlpha=rg2.config.FULL_INTENSITY,rg2.ctx.textAlign="left",b=this.displayInitials?c.initials:c.name,rg2.ctx.fillText(b,c.x[f]+15,c.y[f]+7))}this.massStartByControl&&this.checkForStopControl(this.animationSecs)},checkForStopControl:function(a){var b,c,d=!0;for(b=0;b<this.runners.length;b+=1)if(c=this.runners[b].splits[this.massStartControl+1]-this.runners[b].splits[this.massStartControl],c>a){d=!1;break}if(d){for(this.massStartControl+=1,b=0;b<this.runners.length;b+=1)this.runners[b].nextStopTime=this.massStartControl<this.runners[b].splits.length?this.runners[b].splits[this.massStartControl+1]:rg2.config.VERY_HIGH_TIME_IN_SECS;this.resetAnimationTime(0)}},goSlower:function(){this.deltaSecs>0&&(this.deltaSecs-=1)},goFaster:function(){this.deltaSecs+=1},formatSecsAsHHMMSS:function(a){var b,c=Math.floor(a/3600);b=10>c?"0"+c+":":c+":",a-=3600*c;var d=Math.floor(a/60);b+=10>d?"0"+d:d;var e=a-60*d;return b+=10>e?":0"+e:":"+e}},Controls.prototype={Constructor:Controls,addControl:function(a,b,c){for(var d=!0,e=0;e<this.controls.length;e+=1)if(this.controls[e].code===a){d=!1;break}d&&this.controls.push(new Control(a,b,c))},deleteAllControls:function(){this.controls.length=0},drawControls:function(a){if(this.displayControls){var b,c,d=rg2.getOverprintDetails();for(rg2.ctx.lineWidth=d.overprintWidth,rg2.ctx.strokeStyle=rg2.config.PURPLE,rg2.ctx.font="20pt Arial",rg2.ctx.fillStyle=rg2.config.PURPLE,rg2.ctx.globalAlpha=1,c=this.controls.length,b=0;c>b;b+=1)0===this.controls[b].code.indexOf("F")||0===this.controls[b].code.indexOf("M")?this.drawFinish(this.controls[b].x,this.controls[b].y,this.controls[b].code,d):0===this.controls[b].code.indexOf("S")?this.drawStart(this.controls[b].x,this.controls[b].y,this.controls[b].code,6*Math.PI/4,d):(this.drawSingleControl(this.controls[b].x,this.controls[b].y,this.controls[b].code,d),a&&rg2.ctx.fillRect(this.controls[b].x-1,this.controls[b].y-1,3,3))}},drawSingleControl:function(a,b,c,d){rg2.ctx.beginPath(),rg2.ctx.strokeStyle="white",rg2.ctx.lineWidth=d.overprintWidth+2,rg2.ctx.arc(a,b,d.controlRadius,0,2*Math.PI,!1),rg2.ctx.stroke(),rg2.ctx.beginPath(),rg2.ctx.textAlign="left",rg2.ctx.font=d.font,rg2.ctx.strokeStyle="white",rg2.ctx.miterLimit=2,rg2.ctx.lineJoin="circle",rg2.ctx.lineWidth=1.5,rg2.ctx.strokeText(c,a+1.25*d.controlRadius,b+d.controlRadius),rg2.ctx.beginPath(),rg2.ctx.font=d.font,rg2.ctx.fillStyle=rg2.config.PURPLE,rg2.ctx.strokeStyle=rg2.config.PURPLE,rg2.ctx.lineWidth=d.overprintWidth,rg2.ctx.arc(a,b,d.controlRadius,0,2*Math.PI,!1),rg2.ctx.fillText(c,a+1.25*d.controlRadius,b+d.controlRadius),rg2.ctx.stroke()},drawFinish:function(a,b,c,d){rg2.ctx.strokeStyle="white",rg2.ctx.lineWidth=d.overprintWidth+2,rg2.ctx.beginPath(),rg2.ctx.arc(a,b,d.finishInnerRadius,0,2*Math.PI,!1),rg2.ctx.stroke(),rg2.ctx.beginPath(),rg2.ctx.arc(a,b,d.finishOuterRadius,0,2*Math.PI,!1),rg2.ctx.stroke(),rg2.ctx.beginPath(),rg2.ctx.font=d.font,rg2.ctx.textAlign="left",rg2.ctx.strokeStyle="white",rg2.ctx.miterLimit=2,rg2.ctx.lineJoin="circle",rg2.ctx.lineWidth=1.5,rg2.ctx.strokeText(c,a+1.5*d.controlRadius,b+d.controlRadius),rg2.ctx.stroke(),rg2.ctx.beginPath(),rg2.ctx.fillStyle=rg2.config.PURPLE,rg2.ctx.strokeStyle=rg2.config.PURPLE,rg2.ctx.lineWidth=d.overprintWidth,rg2.ctx.arc(a,b,d.finishInnerRadius,0,2*Math.PI,!1),rg2.ctx.stroke(),rg2.ctx.beginPath(),rg2.ctx.arc(a,b,d.finishOuterRadius,0,2*Math.PI,!1),rg2.ctx.fillText(c,a+1.5*d.controlRadius,b+d.controlRadius),rg2.ctx.stroke()},drawStart:function(a,b,c,d,e){var f=[],g=[],h=2*Math.PI/3;d+=Math.PI/2,rg2.ctx.lineCap="round",rg2.ctx.strokeStyle="white",rg2.ctx.lineWidth=e.overprintWidth+2,rg2.ctx.beginPath(),f[0]=a+e.startTriangleLength*Math.sin(d),g[0]=b-e.startTriangleLength*Math.cos(d),rg2.ctx.moveTo(f[0],g[0]),f[1]=a+e.startTriangleLength*Math.sin(d+h),g[1]=b-e.startTriangleLength*Math.cos(d+h),rg2.ctx.lineTo(f[1],g[1]),rg2.ctx.stroke(),rg2.ctx.beginPath(),rg2.ctx.moveTo(f[1],g[1]),f[2]=a+e.startTriangleLength*Math.sin(d-h),g[2]=b-e.startTriangleLength*Math.cos(d-h),rg2.ctx.lineTo(f[2],g[2]),rg2.ctx.stroke(),rg2.ctx.beginPath(),rg2.ctx.moveTo(f[2],g[2]),rg2.ctx.lineTo(f[0],g[0]),rg2.ctx.stroke(),rg2.ctx.beginPath(),rg2.ctx.font=e.font,rg2.ctx.textAlign="left",rg2.ctx.strokeStyle="white",rg2.ctx.miterLimit=2,rg2.ctx.lineJoin="circle",rg2.ctx.lineWidth=1.5,rg2.ctx.strokeText(c,f[0]+1.25*e.controlRadius,g[0]+1.25*e.controlRadius),rg2.ctx.stroke(),rg2.ctx.strokeStyle=rg2.config.PURPLE,rg2.ctx.lineWidth=e.overprintWidth,rg2.ctx.font=e.font,rg2.ctx.fillStyle=rg2.config.PURPLE,rg2.ctx.beginPath(),rg2.ctx.moveTo(f[0],g[0]),rg2.ctx.lineTo(f[1],g[1]),rg2.ctx.stroke(),rg2.ctx.beginPath(),rg2.ctx.moveTo(f[1],g[1]),rg2.ctx.lineTo(f[2],g[2]),rg2.ctx.stroke(),rg2.ctx.beginPath(),rg2.ctx.moveTo(f[2],g[2]),rg2.ctx.lineTo(f[0],g[0]),rg2.ctx.fillText(c,f[0]+1.25*e.controlRadius,g[0]+1.25*e.controlRadius),rg2.ctx.stroke()},toggleControlDisplay:function(){this.displayControls?($("#btn-toggle-controls").removeClass("fa-ban").addClass("fa-circle-o"),$("#btn-toggle-controls").prop("title",rg2.t("Show controls"))):($("#btn-toggle-controls").removeClass("fa-circle-o").addClass("fa-ban"),$("#btn-toggle-controls").prop("title",rg2.t("Hide controls"))),this.displayControls=!this.displayControls},displayAllControls:function(){this.displayControls=!0}},Control.prototype={Constructor:Control},Courses.prototype={Constructor:Courses,getCourseName:function(a){return this.courses[a].name},getCoursesForEvent:function(){for(var a,b=[],c=0;c<this.courses.length;c+=1)void 0!==this.courses[c]&&(a={},a.id=this.courses[c].courseid,a.name=this.courses[c].name,a.results=this.courses[c].resultcount,b.push(a));return b},getHighestControlNumber:function(){return this.highestControlNumber},getFullCourse:function(a){return this.courses[a]},incrementTracksCount:function(a){this.courses[a].incrementTracksCount(),this.totaltracks+=1},gettrackcountCount:function(a){return this.courses[a].trackcount},getTotalTracksCount:function(){return this.totaltracks},addCourse:function(a){this.courses[a.courseid]=a,this.numberofcourses+=1,void 0!==this.courses[a.courseid].codes&&this.courses[a.courseid].codes.length>this.highestControlNumber&&(this.highestControlNumber=this.courses[a.courseid].codes.length-1,this.updateControlDropdown())},updateCourseDropdown:function(){$("#rg2-course-select").empty();var a,b=document.getElementById("rg2-course-select"),c=document.createElement("option");for(c.value=null,c.text=rg2.t("Select course"),b.options.add(c),a=0;a<this.courses.length;a+=1)void 0!==this.courses[a]&&(c=document.createElement("option"),c.value=a,c.text=this.courses[a].name,b.options.add(c))},updateControlDropdown:function(){$("#rg2-control-select").empty();var a,b,c=document.getElementById("rg2-control-select");for(b=0;b<this.highestControlNumber;b+=1)a=document.createElement("option"),a.value=b,a.text=0===b?"S":b,c.options.add(a);a=document.createElement("option"),a.value=rg2.config.MASS_START_BY_CONTROL,a.text="By control",c.options.add(a)},deleteAllCourses:function(){this.courses.length=0,this.numberofcourses=0,this.totaltracks=0,this.highestControlNumber=0},drawCourses:function(a){for(var b=0;b<this.courses.length;b+=1)void 0!==this.courses[b]&&this.courses[b].drawCourse(a)},putOnDisplay:function(a){void 0!==this.courses[a]&&(this.courses[a].display=!0)},putAllOnDisplay:function(){for(var a=0;a<this.courses.length;a+=1)void 0!==this.courses[a]&&(this.courses[a].display=!0)},removeAllFromDisplay:function(){for(var a=0;a<this.courses.length;a+=1)void 0!==this.courses[a]&&(this.courses[a].display=!1)},removeFromDisplay:function(a){this.courses[a].display=!1},isOnDisplay:function(a){return this.courses[a].display},toggleDisplay:function(a){this.courses[a].toggleDisplay()},getNumberOfCourses:function(){return this.numberofcourses},generateControlList:function(a){for(var b,c,d,e=0;e<this.courses.length;e+=1)if(void 0!==this.courses[e]&&(b=this.courses[e].codes,c=this.courses[e].x,d=this.courses[e].y,void 0!==b))for(var f=0;f<b.length;f+=1)a.addControl(b[f],c[f],d[f])},updateScoreCourse:function(a,b,c,d){var e;for(e=0;e<this.courses.length;e+=1)if(void 0!==this.courses[e]&&this.courses[e].courseid===a){this.courses[e].codes=b,this.courses[e].x=c,this.courses[e].y=d;break}},setResultsCount:function(){var a;for(a=0;a<this.courses.length;a+=1)void 0!==this.courses[a]&&(this.courses[a].resultcount=rg2.countResultsByCourseID(a))},formatCoursesAsTable:function(){var a=0,b="<table class='coursemenutable'><tr><th>"+rg2.t("Course")+"</th><th>"+rg2.t("Show");b+="</th><th>"+rg2.t("Runners")+"</th><th>"+rg2.t("Routes")+"</th><th>"+rg2.t("Show")+"</th></tr>";for(var c=0;c<this.courses.length;c+=1)void 0!==this.courses[c]&&(b+="<tr><td>"+this.courses[c].name+"</td>",b+="<td><input class='courselist' id="+c+" type=checkbox name=course></input></td>",b+="<td>"+this.courses[c].resultcount+"</td>",a+=this.courses[c].resultcount,b+="<td>"+this.courses[c].trackcount+"</td>",b+=this.courses[c].trackcount>0?"<td><input id="+c+" class='tracklist' type=checkbox name=track></input></td>":"<td></td>",b+="</tr>");return b+="<tr class='allitemsrow'><td>"+rg2.t("All")+"</td>",b+="<td><input class='allcourses' id="+c+" type=checkbox name=course></input></td>",b+="<td>"+a+"</td>",b+=this.totaltracks>0?"<td>"+this.totaltracks+"</td><td><input id="+c+" class='alltracks' type=checkbox name=track></input></td>":"<td>"+this.totaltracks+"</td><td></td>",b+="</tr></table>"}},Course.prototype={Constructor:Course,incrementTracksCount:function(){this.trackcount+=1},getCourseID:function(){return this.courseid},toggleDisplay:function(){this.display=!this.display},drawCourse:function(a){if(this.display){var b,c,d,e,f,g,h=rg2.getOverprintDetails();if(rg2.ctx.globalAlpha=a,rg2.ctx.lineWidth=h.overprintWidth,rg2.ctx.strokeStyle=rg2.config.PURPLE,b=this.isScoreCourse?3*Math.PI/2:rg2.getAngle(this.x[0],this.y[0],this.x[1],this.y[1]),rg2.drawStart(this.x[0],this.y[0],"",b,h),!this.isScoreCourse)for(g=0;g<this.x.length-1;g+=1)b=rg2.getAngle(this.x[g],this.y[g],this.x[g+1],this.y[g+1]),0===g?(c=this.x[g]+h.startTriangleLength*Math.cos(b),d=this.y[g]+h.startTriangleLength*Math.sin(b)):(c=this.x[g]+h.controlRadius*Math.cos(b),d=this.y[g]+h.controlRadius*Math.sin(b)),g===this.x.length-2?(e=this.x[g+1]-h.finishOuterRadius*Math.cos(b),f=this.y[g+1]-h.finishOuterRadius*Math.sin(b)):(e=this.x[g+1]-h.controlRadius*Math.cos(b),f=this.y[g+1]-h.controlRadius*Math.sin(b)),rg2.ctx.beginPath(),rg2.ctx.moveTo(c,d),rg2.ctx.lineTo(e,f),rg2.ctx.stroke();if(this.isScoreCourse)for(g=1;g<this.x.length;g+=1)0===this.codes[g].indexOf("F")||0===this.codes[g].indexOf("M")?rg2.drawFinish(this.x[g],this.y[g],"",h):rg2.drawSingleControl(this.x[g],this.y[g],this.codes[g],h);else{for(g=1;g<this.x.length-1;g+=1)rg2.drawSingleControl(this.x[g],this.y[g],g,h);rg2.drawFinish(this.x[this.x.length-1],this.y[this.y.length-1],"",h)}}}},Draw.prototype={Constructor:Draw,gpsFileLoaded:function(){return this.gpstrack.fileLoaded},uploadGPS:function(a){this.gpstrack.uploadGPS(a)},getControlX:function(){return this.controlx},getControlY:function(){return this.controly},mouseUp:function(a,b,c){var d,e,f,g,h=$("#rg2-info-panel").tabs("option","active"),i=3,j={};if(h===rg2.config.TAB_DRAW)if(e=this.gpstrack,e.fileLoaded){if(g=this.getHandleClicked(a,b),void 0!==g)c===rg2.config.RIGHT_CLICK&&0!==g&&g!==e.handles.length?e.handles[g].locked?(e.handles[g].locked=!1,this.pointsLocked-=1):e.handles.splice(g,1):e.handles[g].locked?(e.handles[g].locked=!1,this.pointsLocked-=1):(e.handles[g].locked=!0,this.pointsLocked+=1);else for(f=e.baseX.length,d=0;f>d;d+=1)if(e.baseX[d]+i>=a&&e.baseX[d]-i<=a&&e.baseY[d]+i>=b&&e.baseY[d]-i<=b){j.x=a,j.y=b,j.basex=a,j.basey=b,j.locked=!1,j.time=d,e.handles.push(j);break}}else null!==e.routeData.resultid&&null!==e.routeData.courseid?this.addNewPoint(a,b):rg2.showWarningDialog("No course/name","Please select course, name and time before you start drawing a route or upload a file.")},dragEnded:function(){if(this.gpstrack.fileLoaded){var a,b=this.gpstrack;for(b.savedBaseX=b.baseX.slice(0),b.savedBaseY=b.baseY.slice(0),b.baseX=b.routeData.x.slice(0),b.baseY=b.routeData.y.slice(0),b.savedHandles=$.extend(!0,[],b.handles),a=0;a<b.handles.length;a+=1)b.handles[a].basex=b.handles[a].x,b.handles[a].basey=b.handles[a].y;$("#btn-undo-gps-adjust").button("enable")}},initialiseDrawing:function(){this.gpstrack=new GPSTrack,this.gpstrack.routeData=new RouteData,this.pointsLocked=0,this.pendingCourseID=null,this.controlx=[],this.controly=[],this.nextControl=0,this.isScoreCourse=!1,this.gpstrack.initialiseGPS(),this.hasResults=rg2.eventHasResults(),this.hasResults?($("#rg2-select-name").show(),$("#rg2-enter-name").hide()):($("#rg2-select-name").hide(),$("#rg2-enter-name").show()),$("#rg2-name-select").prop("disabled",!0),$("#rg2-undo").prop("disabled",!0),$("#btn-save-route").button("disable"),$("#btn-save-gps-route").button("disable"),$("#btn-undo").button("disable"),$("#btn-three-seconds").button("disable"),$("#btn-reset-drawing").button("enable"),$("#rg2-name-select").empty(),$("#rg2-new-comments").empty().val(rg2.t(rg2.config.DEFAULT_NEW_COMMENT)),$("#rg2-event-comments").empty().val(rg2.t(rg2.config.DEFAULT_EVENT_COMMENT)),$("#btn-move-all").prop("checked",!1),$("#rg2-load-gps-file").button("disable"),$("#rg2-name-entry").empty().val(""),$("#rg2-time-entry").empty().val(""),$("#rg2-name").removeClass("valid"),$("#rg2-time").removeClass("valid"),rg2.redraw(!1)},setCourse:function(a){isNaN(a)||(null!==this.gpstrack.routeData.courseid?this.gpstrack.routeData.x.length>1?(this.pendingCourseid=a,this.confirmCourseChange()):(null!==this.gpstrack.routeData.resultid&&rg2.putScoreCourseOnDisplay(this.gpstrack.routeData.resultid,!1),rg2.removeFromDisplay(this.gpstrack.routeData.courseid),this.initialiseCourse(a)):this.initialiseCourse(a))},initialiseCourse:function(a){var b;this.gpstrack.routeData.eventid=rg2.getKartatEventID(),this.gpstrack.routeData.courseid=a,b=rg2.getCourseDetails(a),this.isScoreCourse=b.isScoreCourse,this.isScoreCourse||(rg2.putOnDisplay(a),this.gpstrack.routeData.coursename=b.name,this.controlx=b.x,this.controly=b.y,this.gpstrack.routeData.x.length=0,this.gpstrack.routeData.y.length=0,this.gpstrack.routeData.x[0]=this.controlx[0],this.gpstrack.routeData.y[0]=this.controly[0],this.nextControl=1),rg2.createNameDropdown(a),$("#rg2-name-select").prop("disabled",!1),$("#btn-undo-gps-adjust").button("disable"),rg2.redraw(!1)},confirmCourseChange:function(){var a="<div id='course-change-dialog'>The route you have started to draw will be discarded. Are you sure you want to change the course?</div>",b=this;$(a).dialog({title:"Confirm course change",modal:!0,dialogClass:"no-close",closeOnEscape:!1,buttons:[{text:"Change course",click:function(){b.doChangeCourse()}},{text:"Cancel",click:function(){b.doCancelChangeCourse()}}]})},resetDrawing:function(){var a="<div id='drawing-reset-dialog'>All information you have entered will be removed. Are you sure you want to reset?</div>",b=this;$(a).dialog({title:"Confirm reset",modal:!0,dialogClass:"no-close",closeOnEscape:!1,buttons:[{text:"Reset",click:function(){b.doDrawingReset()}},{text:"Cancel",click:function(){b.doCancelDrawingReset()}}]})},doChangeCourse:function(){$("#course-change-dialog").dialog("destroy"),rg2.removeFromDisplay(this.gpstrack.routeData.courseid),null!==this.gpstrack.routeData.resultid&&rg2.putScoreCourseOnDisplay(this.gpstrack.routeData.resultid,!1),this.doDrawingReset(),this.initialiseCourse(this.pendingCourseid)},doCancelChangeCourse:function(){$("#rg2-course-select").val(this.gpstrack.routeData.courseid),this.pendingCourseid=null,$("#course-change-dialog").dialog("destroy")},doDrawingReset:function(){$("#drawing-reset-dialog").dialog("destroy"),this.pendingCourseid=null,this.initialiseDrawing()},doCancelDrawingReset:function(){$("#drawing-reset-dialog").dialog("destroy")},showCourseInProgress:function(){null!==this.gpstrack.routeData.courseid&&(this.isScoreCourse?rg2.putScoreCourseOnDisplay(this.gpstrack.routeData.resultid,!0):rg2.putOnDisplay(this.gpstrack.routeData.courseid))},setName:function(a){var b;isNaN(a)||(b=rg2.getFullResult(a),b.hasValidTrack&&rg2.showWarningDialog("Route already drawn","If you draw a new route it will overwrite the old route for this runner. GPS routes are saved separately and will not be overwritten."),null!==this.gpstrack.routeData.resultid&&rg2.putScoreCourseOnDisplay(this.gpstrack.routeData.resultid,!1),this.gpstrack.routeData.resultid=b.resultid,this.gpstrack.routeData.name=b.name,this.isScoreCourse&&(rg2.putScoreCourseOnDisplay(b.resultid,!0),this.controlx=b.scorex,this.controly=b.scorey,this.gpstrack.routeData.x.length=0,this.gpstrack.routeData.y.length=0,this.gpstrack.routeData.x[0]=this.controlx[0],this.gpstrack.routeData.y[0]=this.controly[0],this.nextControl=1,rg2.redraw(!1)),this.startDrawing())},setNameAndTime:function(){var a,b=$("#rg2-name-entry").val();b?$("#rg2-name").addClass("valid"):$("#rg2-name").removeClass("valid"),a=$("#rg2-time-entry").val(),a.match(/\d+[:.][0-5]\d$/)?$("#rg2-time").addClass("valid"):($("#rg2-time").removeClass("valid"),a=null),b&&a&&(a=a.replace(".",":"),this.gpstrack.routeData.name=b,this.gpstrack.routeData.resultid=0,this.gpstrack.routeData.totaltime=a,this.gpstrack.routeData.startsecs=0,this.gpstrack.routeData.time[0]=rg2.getSecsFromMMSS(a),this.startDrawing())},startDrawing:function(){$("#btn-three-seconds").button("enable"),$("#rg2-load-gps-file").button("enable")},addNewPoint:function(a,b){this.closeEnough(a,b)?(this.gpstrack.routeData.x.push(this.controlx[this.nextControl]),this.gpstrack.routeData.y.push(this.controly[this.nextControl]),this.nextControl+=1,this.nextControl===this.controlx.length&&$("#btn-save-route").button("enable")):(this.gpstrack.routeData.x.push(Math.round(a)),this.gpstrack.routeData.y.push(Math.round(b))),$("#btn-undo").button(this.gpstrack.routeData.x.length>1?"enable":"disable"),rg2.redraw(!1)},undoGPSAdjust:function(){var a;a=this.gpstrack,a.baseX=a.savedBaseX.slice(0),a.baseY=a.savedBaseY.slice(0),a.routeData.x=a.savedBaseX.slice(0),a.routeData.y=a.savedBaseY.slice(0),a.handles=$.extend(!0,[],a.savedHandles);for(var b=0;b<a.handles.length;b+=1)a.handles[b].x=a.handles[b].basex,a.handles[b].y=a.handles[b].basey;$("#btn-undo-gps-adjust").button("disable"),rg2.redraw(!1)},undoLastPoint:function(){var a=this.gpstrack.routeData.x.length;a>1&&(this.controlx[this.nextControl-1]===this.gpstrack.routeData.x[a-1]&&this.controly[this.nextControl-1]===this.gpstrack.routeData.y[a-1]&&(this.nextControl===this.controlx.length&&$("#btn-save-route").button("disable"),this.nextControl>1&&(this.nextControl-=1)),this.gpstrack.routeData.x.pop(),this.gpstrack.routeData.y.pop()),$("#btn-undo").button(this.gpstrack.routeData.x.length>1?"enable":"enable"),rg2.redraw(!1)},saveGPSRoute:function(){var a,b,c=this.gpstrack.routeData.time[this.gpstrack.routeData.time.length-1]-this.gpstrack.routeData.time[0];this.gpstrack.routeData.totaltime=rg2.formatSecsAsMMSS(c);var d=new Date,e=60*d.getTimezoneOffset();for(this.gpstrack.routeData.startsecs=this.gpstrack.routeData.time[0]-e,b=this.gpstrack.routeData.x.length,a=0;b>a;a+=1)this.gpstrack.routeData.x[a]=Math.round(this.gpstrack.routeData.x[a]),this.gpstrack.routeData.y[a]=Math.round(this.gpstrack.routeData.y[a]),this.gpstrack.routeData.time[a]-=this.gpstrack.routeData.startsecs;for(this.gpstrack.routeData.resultid+=rg2.config.GPS_RESULT_OFFSET;rg2.resultIDExists(this.gpstrack.routeData.resultid);)this.gpstrack.routeData.resultid+=rg2.config.GPS_RESULT_OFFSET,this.gpstrack.routeData.name+="*";this.gpstrack.routeData.comments=$("#rg2-new-comments").val(),$("#btn-undo-gps-adjust").button("disable"),this.postRoute()},saveRoute:function(){this.gpstrack.routeData.comments=$("#rg2-new-comments").val(),this.gpstrack.routeData.controlx=this.controlx,this.gpstrack.routeData.controly=this.controly,this.gpstrack.routeData.controlx.splice(0,1),this.gpstrack.routeData.controly.splice(0,1),this.postRoute()},postRoute:function(){var a=rg2Config.json_url+"?type=addroute&id="+this.gpstrack.routeData.eventid,b=JSON.stringify(this.gpstrack.routeData),c=this;$.ajax({data:b,type:"POST",url:a,dataType:"json",success:function(a){a.ok?c.routeSaved(a.status_msg):c.saveError(a.status_msg)},error:function(a,b,d){c.saveError(d)}})},saveError:function(a){rg2.showWarningDialog(this.gpstrack.routeData.name,rg2.t("Your route was not saved. Please try again")+". "+a)},routeSaved:function(){rg2.showWarningDialog(this.gpstrack.routeData.name,rg2.t("Your route has been saved")+"."),rg2.loadEvent(rg2.getActiveEventID())},waitThreeSeconds:function(){this.gpstrack.routeData.x.push(this.gpstrack.routeData.x[this.gpstrack.routeData.x.length-1]),this.gpstrack.routeData.y.push(this.gpstrack.routeData.y[this.gpstrack.routeData.y.length-1]),rg2.redraw(!1)},closeEnough:function(a,b){var c;return c=rg2.getSnapToControl()?7:2,Math.abs(a-this.controlx[this.nextControl])<c&&Math.abs(b-this.controly[this.nextControl])<c?!0:!1},trackLocked:function(){return this.pointsLocked>0},adjustTrack:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F;if(F=$("#btn-move-all").prop("checked"),F||e===rg2.config.RIGHT_CLICK)rg2.ctx.translate(c-a,d-b);else if(g=this.gpstrack,h=g.baseX.length,this.pointsLocked>0)if(1===this.pointsLocked){for(i=this.getLockedHandle(),v=rg2.getAngle(a,b,i.basex,i.basey),w=rg2.getAngle(c,d,i.basex,i.basey),x=w-v,s=rg2.getDistanceBetweenPoints(a,b,i.basex,i.basey),t=rg2.getDistanceBetweenPoints(c,d,i.basex,i.basey),u=t/s,f=0;h>f;f+=1)j=g.baseX[f]-i.basex,k=g.baseY[f]-i.basey,g.routeData.x[f]=(Math.cos(x)*j-Math.sin(x)*k)*u+i.basex,g.routeData.y[f]=(Math.sin(x)*j+Math.cos(x)*k)*u+i.basey;for(f=0;f<g.handles.length;f+=1)g.handles[f].locked||(j=g.handles[f].basex-i.basex,k=g.handles[f].basey-i.basey,g.handles[f].x=(Math.cos(x)*j-Math.sin(x)*k)*u+i.basex,g.handles[f].y=(Math.sin(x)*j+Math.cos(x)*k)*u+i.basey)}else{if(i=this.getHandleClicked(a,b),void 0===i)return;if(g.handles[i].locked)return;if(z=this.getEarliestLockedHandle(),A=this.getLatestLockedHandle(),g.handles[z].time>g.handles[i].time||g.handles[A].time<g.handles[i].time){for(g.handles[z].time>g.handles[i].time?(B=z,D=0,E=g.handles[z].time):(B=A,D=g.handles[A].time+1,E=g.handles[1].time+1),s=rg2.getDistanceBetweenPoints(a,b,g.handles[B].basex,g.handles[B].basey),t=rg2.getDistanceBetweenPoints(c,d,g.handles[B].basex,g.handles[B].basey),u=t/s,v=rg2.getAngle(a,b,g.handles[B].basex,g.handles[B].basey),w=rg2.getAngle(c,d,g.handles[B].basex,g.handles[B].basey),x=w-v,f=D;E>f;f+=1)j=g.baseX[f]-g.handles[B].basex,k=g.baseY[f]-g.handles[B].basey,g.routeData.x[f]=(Math.cos(x)*j-Math.sin(x)*k)*u+g.handles[B].basex,g.routeData.y[f]=(Math.sin(x)*j+Math.cos(x)*k)*u+g.handles[B].basey;for(f=0;f<g.handles.length;f+=1)!g.handles[f].locked&&g.handles[f].time>=D&&g.handles[f].time<=E&&(j=g.handles[f].basex-g.handles[B].basex,k=g.handles[f].basey-g.handles[B].basey,g.handles[f].x=(Math.cos(x)*j-Math.sin(x)*k)*u+g.handles[B].basex,g.handles[f].y=(Math.sin(x)*j+Math.cos(x)*k)*u+g.handles[B].basey)}else{if(B=this.getPreviousLockedHandle(i),D=g.handles[B].time,C=this.getNextLockedHandle(i),E=g.handles[C].time,y=rg2.getAngle(g.handles[B].basex,g.handles[B].basey,g.handles[C].basex,g.handles[C].basey),x=2*Math.PI-y,m=a-g.handles[B].basex,n=b-g.handles[B].basey,a=Math.cos(x)*m-Math.sin(x)*n,b=Math.sin(x)*m+Math.cos(x)*n,m=c-g.handles[B].basex,n=d-g.handles[B].basey,c=Math.cos(x)*m-Math.sin(x)*n,d=Math.sin(x)*m+Math.cos(x)*n,m=g.handles[C].basex-g.handles[B].basex,n=g.handles[C].basey-g.handles[B].basey,j=Math.cos(x)*m-Math.sin(x)*n,k=Math.sin(x)*m+Math.cos(x)*n,l=(c-a)/b,u=d/b,!isFinite(l)||!isFinite(u))return void console.log("y1 became 0: scale factors invalid",l,u);for(f=D+1;E>f;f+=1)m=g.baseX[f]-g.handles[B].basex,n=g.baseY[f]-g.handles[B].basey,j=Math.cos(x)*m-Math.sin(x)*n,k=Math.sin(x)*m+Math.cos(x)*n,o=j+k*l,p=k*u,g.routeData.x[f]=Math.cos(y)*o-Math.sin(y)*p+g.handles[B].basex,g.routeData.y[f]=Math.sin(y)*o+Math.cos(y)*p+g.handles[B].basey;for(f=0;f<g.handles.length;f+=1)!g.handles[f].locked&&g.handles[f].time>=D&&g.handles[f].time<=E&&(m=g.handles[f].basex-g.handles[B].basex,n=g.handles[f].basey-g.handles[B].basey,j=Math.cos(x)*m-Math.sin(x)*n,k=Math.sin(x)*m+Math.cos(x)*n,o=j+k*l,p=k*u,g.handles[f].x=Math.cos(y)*o-Math.sin(y)*p+g.handles[B].basex,g.handles[f].y=Math.sin(y)*o+Math.cos(y)*p+g.handles[B].basey)
}}else{for(q=c-a,r=d-b,f=0;h>f;f+=1)g.routeData.x[f]=g.baseX[f]+q,g.routeData.y[f]=g.baseY[f]+r;for(f=0;f<g.handles.length;f+=1)g.handles[f].x=g.handles[f].basex+q,g.handles[f].y=g.handles[f].basey+r}},getHandleClicked:function(a,b){var c,d;for(c=0;c<this.gpstrack.handles.length;c+=1)if(d=rg2.getDistanceBetweenPoints(a,b,this.gpstrack.handles[c].basex,this.gpstrack.handles[c].basey),d<=this.HANDLE_DOT_RADIUS)return c;return void 0},getLockedHandle:function(){var a;for(a=0;a<this.gpstrack.handles.length;a+=1)if(this.gpstrack.handles[a].locked)return this.gpstrack.handles[a];return void 0},getEarliestLockedHandle:function(){var a,b,c=99999;for(a=0;a<this.gpstrack.handles.length;a+=1)this.gpstrack.handles[a].locked&&this.gpstrack.handles[a].time<c&&(c=this.gpstrack.handles[a].time,b=a);return b},getLatestLockedHandle:function(){var a,b,c=-1;for(a=0;a<this.gpstrack.handles.length;a+=1)this.gpstrack.handles[a].locked&&this.gpstrack.handles[a].time>c&&(c=this.gpstrack.handles[a].time,b=a);return b},getPreviousLockedHandle:function(a){var b,c,d=this.gpstrack.handles[1].time,e=this.gpstrack.handles[a].time;for(b=0;b<this.gpstrack.handles.length;b+=1)e-this.gpstrack.handles[b].time<d&&this.gpstrack.handles[b].time<e&&this.gpstrack.handles[b].locked&&(d=e-this.gpstrack.handles[b].time,c=b);return c},getNextLockedHandle:function(a){var b,c,d,e=this.gpstrack.handles[1].time,f=this.gpstrack.handles[a].time;for(c=this.gpstrack.handles.length,b=0;c>b;b+=1)this.gpstrack.handles[b].time-f<e&&this.gpstrack.handles[b].time>f&&this.gpstrack.handles[b].locked&&(e=this.gpstrack.handles[b].time-f,d=b);return d},drawNewTrack:function(){var a,b,c=rg2.getOverprintDetails();if(rg2.ctx.lineWidth=c.overprintWidth,rg2.ctx.strokeStyle=this.trackColor,rg2.ctx.fillStyle=this.trackColour,rg2.ctx.font="10pt Arial",rg2.ctx.textAlign="left",rg2.ctx.globalAlpha=1,this.nextControl>0&&!this.gpstrack.fileLoaded&&(rg2.ctx.beginPath(),this.nextControl<this.controlx.length-1?rg2.ctx.arc(this.controlx[this.nextControl],this.controly[this.nextControl],c.controlRadius,0,2*Math.PI,!1):(rg2.ctx.arc(this.controlx[this.nextControl],this.controly[this.nextControl],c.finishInnerRadius,0,2*Math.PI,!1),rg2.ctx.stroke(),rg2.ctx.beginPath(),rg2.ctx.arc(this.controlx[this.nextControl],this.controly[this.nextControl],c.finishOuterRadius,0,2*Math.PI,!1)),rg2.ctx.fillRect(this.controlx[this.nextControl]-1,this.controly[this.nextControl]-1,3,3),rg2.ctx.stroke(),rg2.ctx.beginPath(),rg2.ctx.arc(this.gpstrack.routeData.x[0]+rg2.config.RUNNER_DOT_RADIUS/2,this.gpstrack.routeData.y[0],rg2.config.RUNNER_DOT_RADIUS,0,2*Math.PI,!1),rg2.ctx.fill()),this.gpstrack.routeData.x.length>1){for(rg2.ctx.beginPath(),rg2.ctx.moveTo(this.gpstrack.routeData.x[0],this.gpstrack.routeData.y[0]),b=this.gpstrack.routeData.x.length,a=1;b>a;a+=1)rg2.ctx.lineTo(this.gpstrack.routeData.x[a],this.gpstrack.routeData.y[a]);rg2.ctx.stroke()}for(b=this.gpstrack.handles.length,a=0;b>a;a+=1)rg2.ctx.fillStyle=this.gpstrack.handles[a].locked===!0?rg2.config.RED:rg2.config.GREEN,rg2.ctx.strokestyle=rg2.config.PURPLE,rg2.ctx.beginPath(),rg2.ctx.arc(this.gpstrack.handles[a].x,this.gpstrack.handles[a].y,this.HANDLE_DOT_RADIUS,0,2*Math.PI,!1),rg2.ctx.fill(),rg2.ctx.stroke()}},Events.prototype={Constructor:Events,deleteAllEvents:function(){this.events.length=0,this.activeEventID=null},addEvent:function(a){this.events.push(a)},getEventInfo:function(a){var b=this.getEventIDForKartatID(a),c=this.events[b];return c.id=b,c},getKartatEventID:function(){return this.events[this.activeEventID].kartatid},getActiveMapID:function(){return this.events[this.activeEventID].mapid},getMapFileName:function(){return this.events[this.activeEventID].mapfilename},setActiveEventID:function(a){this.activeEventID=a},getActiveEventID:function(){return this.activeEventID},getEventIDForKartatID:function(a){var b;for(b=0;b<this.events.length;b+=1)if(this.events[b].kartatid===a)return b;return void 0},getActiveEventDate:function(){return null!==this.activeEventID?this.events[this.activeEventID].date:""},getActiveEventName:function(){return null!==this.activeEventID?this.events[this.activeEventID].name:"Routegadget 2"},createEventEditDropdown:function(){$("#rg2-event-selected").empty();var a,b,c=document.getElementById("rg2-event-selected"),d=document.createElement("option");for(d.value=null,d.text="No event selected",c.options.add(d),b=this.events.length-1,a=b;a>-1;a-=1)d=document.createElement("option"),d.value=this.events[a].kartatid,d.text=this.events[a].kartatid+": "+this.events[a].date+": "+this.events[a].name,c.options.add(d)},isScoreEvent:function(){return this.events[this.activeEventID].format===rg2.config.SCORE_EVENT},hasResults:function(){return null!==this.activeEventID?this.events[this.activeEventID].format!==rg2.config.EVENT_WITHOUT_RESULTS:!0},isValidEventID:function(a){return this.events.length>=a&&a>0?!0:!1},mapIsGeoreferenced:function(){return null===this.activeEventID?!1:this.events[this.activeEventID].georeferenced},getWorldFile:function(){return this.events[this.activeEventID].worldFile},formatEventsAsMenu:function(){var a,b,c="";for(b=this.events.length-1;b>=0;b-=1)a=rg2.t(this.events[b].type)+": "+this.events[b].date,this.events[b].georeferenced&&(a+=": "+rg2.t("Map is georeferenced")),""!==this.events[b].comment&&(a+=": "+this.events[b].comment),c+='<li title="'+a+'" id='+b+"><a href='#"+this.events[b].kartatid+"'>",""!==this.events[b].comment&&(c+="<i class='fa fa-info-circle event-info-icon' id='info-"+b+"'></i>"),this.events[b].georeferenced&&(c+="<i class='fa fa-globe event-info-icon' id='info-"+b+"'>&nbsp</i>"),c+=this.events[b].date+": "+this.events[b].name+"</a></li>";return c}},Event.prototype={Constructor:Event},GPSTrack.prototype={Constructor:GPSTrack,initialiseGPS:function(){this.lat.length=0,this.lon.length=0,this.time.length=0,this.baseX.length=0,this.baseY.length=0,this.handles.length=0,this.savedBaseX.length=0,this.savedBaseY.length=0,this.savedHandles.length=0,this.fileLoaded=!1},uploadGPS:function(a){var b=new FileReader;this.fileName=a.target.files[0].name,b.onerror=function(a){switch(a.target.error.code){case a.target.error.NOT_FOUND_ERR:rg2.showWarningDialog("GPS file problem","File not found");break;case a.target.error.NOT_READABLE_ERR:rg2.showWarningDialog("GPS file problem","File not readable. Please check you have selected the correct file.");break;default:rg2.showWarningDialog("GPS file problem","An error occurred. Please check you have selected the correct file.")}};var c=this;b.onload=function(a){var b,d=c.fileName.slice(-3).toLowerCase();if("gpx"!==d&&"tcx"!==d)return void rg2.showWarningDialog("GPS file problem","File type not recognised. Please check you have selected the correct file.");try{b=$.parseXML(a.target.result),"gpx"===d?c.processGPX(b):"tcx"===d&&c.processTCX(b),c.processGPSTrack()}catch(e){return void rg2.showWarningDialog("GPS file problem","File is not valid XML. Please check you have selected the correct file.")}$("#rg2-load-gps-file").button("disable")},b.readAsText(a.target.files[0])},processGPX:function(a){var b,c,d,e;for(b=a.getElementsByTagName("trkseg"),d=0;d<b.length;d+=1)for(c=b[d].getElementsByTagName("trkpt"),e=0;e<c.length;e+=1)this.lat.push(c[e].getAttribute("lat")),this.lon.push(c[e].getAttribute("lon")),this.time.push(this.getSecsFromTrackpoint(c[e].getElementsByTagName("time")[0].textContent))},processTCX:function(a){var b,c,d,e,f,g;for(b=a.getElementsByTagName("Track"),d=0;d<b.length;d+=1)for(c=b[d].getElementsByTagName("Trackpoint"),f=c.length,e=0;f>e;e+=1)c[e].getElementsByTagName("Position").length>0&&(g=c[e].getElementsByTagName("Position"),this.lat.push(g[0].getElementsByTagName("LatitudeDegrees")[0].textContent),this.lon.push(g[0].getElementsByTagName("LongitudeDegrees")[0].textContent),this.time.push(this.getSecsFromTrackpoint(c[e].getElementsByTagName("Time")[0].textContent)))},getSecsFromTrackpoint:function(a){try{var b=parseInt(a.substr(11,2),10),c=parseInt(a.substr(14,2),10),d=parseInt(a.substr(17,2),10);return 3600*b+60*c+d}catch(e){return 0}},processGPSTrack:function(){if(rg2.mapIsGeoreferenced()){var a,b=rg2.getWorldFile(),c=b.A*b.E-b.D*b.B,d=b.B*b.F-b.E*b.C,e=b.D*b.C-b.A*b.F;for(a=0;a<this.lat.length;a+=1)this.routeData.x[a]=Math.round((b.E*this.lon[a]-b.B*this.lat[a]+d)/c),this.routeData.y[a]=Math.round((-1*b.D*this.lon[a]+b.A*this.lat[a]+e)/c);var f=this.routeData.x[0],g=this.routeData.x[0],h=this.routeData.y[0],i=this.routeData.y[0];for(a=1;a<this.routeData.x.length;a+=1)g=Math.max(g,this.routeData.x[a]),i=Math.max(i,this.routeData.y[a]),f=Math.min(f,this.routeData.x[a]),h=Math.min(h,this.routeData.y[a]);var j=rg2.getMapSize();if(0>g||f>j.width||h>j.height||0>i){var k="<div id='GPS-problem-dialog'>Your GPS file does not match the map co-ordinates. Please check you have selected the correct file.</div>";$(k).dialog({title:"GPS file problem"}),this.fitTrackInsideCourse()}else $("#btn-move-all").prop("checked",!0)}else this.fitTrackInsideCourse();this.baseX=this.routeData.x.slice(0),this.baseY=this.routeData.y.slice(0);var l={},m={};l.x=this.baseX[0],l.y=this.baseY[0],l.basex=l.x,l.basey=l.y,l.locked=!1,l.time=0,this.handles.push(l),m.x=this.baseX[this.baseX.length-1],m.y=this.baseY[this.baseY.length-1],m.basex=m.x,m.basey=m.y,m.locked=!1,m.time=this.baseY.length-1,this.handles.push(m),this.routeData.time=this.time,this.fileLoaded=!0,$("#btn-save-gps-route").button("enable"),rg2.redraw(!1)},fitTrackInsideCourse:function(){for(var a,b,c,d,e,f,g,h=this.lat[0],i=this.lon[0],j=this.lat[0],k=this.lon[0],l=1;l<this.lat.length;l+=1)h=Math.max(h,this.lat[l]),i=Math.max(i,this.lon[l]),j=Math.min(j,this.lat[l]),k=Math.min(k,this.lon[l]),f=this.lon[l]-this.lon[0],g=this.lat[l]-this.lat[0];var m=rg2.getControlX(),n=rg2.getControlY();for(a=m[0],b=m[0],c=n[0],d=n[0],l=1;l<m.length;l+=1)b=Math.max(b,m[l]),d=Math.max(d,n[l]),a=Math.min(a,m[l]),c=Math.min(c,n[l]);(100>d-c||100>b-a)&&(a=0,c=0,e=rg2.getMapSize(),b=e.width,d=e.height);var o=(b-a)/(i-k),p=(d-c)/(h-j),q=rg2.getLatLonDistance(j,i,j,k)/(i-k),r=rg2.getLatLonDistance(j,k,h,k)/(h-j);o>p?p=o*r/q:o=p*q/r,this.routeData.x[0]=(this.lon[0]-k)*o+a,this.routeData.y[0]=-1*(this.lat[0]-h)*p+c;var s=a-(this.routeData.x[0]-m[0]),t=c-(this.routeData.y[0]-n[0]);for(l=0;l<this.lat.length;l+=1)this.routeData.x[l]=(this.lon[l]-k)*o+s,this.routeData.y[l]=-1*(this.lat[l]-h)*p+t}},function(){for(var a,b=function(){},c=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],d=c.length,e=window.console=window.console||{};d;)d-=1,a=c[d],e[a]||(e[a]=b)}(),Results.prototype={Constructor:Results,addResults:function(a,b){var c,d,e,f,g,h,i,j,k,l=a.length;if(b)for(i=[],j=[],k=[],c=0;l>c;c+=1)h=a[c].scoreref,"undefined"==typeof i[h]&&(i[h]=a[c].scorecodes,j[h]=a[c].scorex,k[h]=a[c].scorey);for(c=0;l>c;c+=1)b?(h=a[c].scoreref,e=new Result(a[c],b,i[h],j[h],k[h])):e=new Result(a[c],b),this.results.push(e);for(c=0;c<this.results.length;c+=1)if(this.results[c].resultid>=rg2.config.GPS_RESULT_OFFSET){for(f=this.results[c].resultid;f>=rg2.config.GPS_RESULT_OFFSET;)f-=rg2.config.GPS_RESULT_OFFSET;for(d=0;d<this.results.length;d+=1)f===this.results[d].resultid&&(g=this.getFullResult(d));"undefined"!=typeof g&&"undefined"!=typeof g.scorex&&(this.results[c].scorex=g.scorex,this.results[c].scorey=g.scorey,this.results[c].scorecodes=g.scorecodes)}this.generateLegPositions()},getAllRunnersForCourse:function(a){var b,c=[];for(b=0;b<this.results.length;b+=1)this.results[b].courseid===a&&c.push(b);return c},generateScoreCourses:function(){var a,b,c,d,e,f,g,h,i,j;for(e=[],f=[],g=[],h=[],a=0;a<this.results.length;a+=1)if(d=this.results[a],!(d.resultid>=rg2.config.GPS_RESULT_OFFSET))for(j=d.courseid,-1===e.indexOf(j)&&(e.push(j),f[j]=[],g[j]=[],h[j]=[]),b=0;b<d.scorecodes.length;b+=1){for(i=!0,c=0;c<f[j].length;c+=1)if(d.scorecodes[b]===f[j][c]){i=!1;break}i&&(f[j].push(d.scorecodes[b]),g[j].push(d.scorex[b]),h[j].push(d.scorey[b]))}for(a=0;a<e.length;a+=1)j=e[a],rg2.updateScoreCourse(j,f[j],g[j],h[j])},generateLegPositions:function(){var a,b,c,d,e;for(d=[],e=[],a=0;a<this.results.length;a+=1)-1===d.indexOf(this.results[a].courseid)&&(d.push(this.results[a].courseid),e.push(this.results[a].splits.length));var f,g=[];for(a=0;a<d.length;a+=1)for(c=1;c<e[a];c+=1){for(g.length=0,b=0;b<this.results.length;b+=1)this.results[b].courseid===d[a]&&(f={},f.time=this.results[b].splits[c],f.id=b,g.push(f));for(g.sort(this.sortTimes),b=0;b<g.length;b+=1)this.results[g[b].id].legpos[c]=b+1}},putScoreCourseOnDisplay:function(a,b){var c;for(c=0;c<this.results.length;c+=1)this.results[c].resultid===a&&(this.results[c].displayScoreCourse=b)},displayScoreCourse:function(a,b){this.results[a].displayScoreCourse=b},sortTimes:function(a,b){return a.time-b.time},countResultsByCourseID:function(a){for(var b=0,c=0;c<this.results.length;c+=1)this.results[c].courseid===a&&this.results[c].resultid<rg2.config.GPS_RESULT_OFFSET&&(b+=1);return b},getRoutesForEvent:function(){for(var a,b=[],c=0;c<this.results.length;c+=1)this.results[c].hasValidTrack&&(a={},a.id=c,a.resultid=this.results[c].resultid,a.name=this.results[c].name,a.time=this.results[c].time,a.coursename=this.results[c].coursename,b.push(a));return b},getResultsInfo:function(){var a,b,c={};c.results=0,c.drawnroutes=0,c.gpsroutes=0,c.secs=0;for(var d=0;d<this.results.length;d+=1)a=this.results[d],a.resultid<rg2.config.GPS_RESULT_OFFSET&&(c.results+=1,a.time&&(c.secs+=a.splits[a.splits.length-1])),a.hasValidTrack&&(a.resultid<rg2.config.GPS_RESULT_OFFSET?c.drawnroutes+=1:c.gpsroutes+=1);return c.percent=c.results>0?(100*(c.drawnroutes+c.gpsroutes)/c.results).toFixed(1):0,c.time=Math.floor(c.secs/86400)+" days ",b=c.secs-86400*Math.floor(c.secs/86400),c.time+=Math.floor(b/3600)+" hours ",b-=3600*Math.floor(b/3600),c.time+=Math.floor(b/60)+" minutes ",c.time+=b-60*Math.floor(b/60)+" seconds ",c},getCourseID:function(a){return this.results[a].courseid},getFullResult:function(a){return this.results[a]},drawTracks:function(){var a,b;a=rg2.showThreeSeconds(),b=rg2.showGPSSpeed();for(var c=0;c<this.results.length;c+=1)this.results[c].drawTrack(a,b),this.results[c].drawScoreCourse()},updateTrackNames:function(){$("#rg2-track-names").empty();var a=this.getDisplayedTrackNames();""!==a?($("#rg2-track-names").append(a),$("#rg2-track-names").show()):$("#rg2-track-names").hide()},putOneTrackOnDisplay:function(a){this.results[a].putTrackOnDisplay(),this.updateTrackNames()},removeOneTrackFromDisplay:function(a){this.results[a].removeTrackFromDisplay(),this.updateTrackNames()},putTracksOnDisplay:function(a){for(var b=0;b<this.results.length;b+=1)this.results[b].courseid==a&&this.results[b].putTrackOnDisplay();this.updateTrackNames()},putAllTracksOnDisplay:function(){var a,b;for(b=this.results.length,a=0;b>a;a+=1)this.results[a].putTrackOnDisplay();this.updateTrackNames()},getDisplayedTrackNames:function(){for(var a="",b=0;b<this.results.length;b+=1)this.results[b].displayTrack&&(a+="<p style='color:"+this.results[b].trackColour+";'>"+rg2.getCourseName(this.results[b].courseid),a+=": "+this.results[b].name+"</p>");return a},resultIDExists:function(a){for(var b=0;b<this.results.length;b+=1)if(a===this.results[b].resultid)return!0;return!1},getSplitsForID:function(a){for(var b=0;b<this.results.length;b+=1)if(a===this.results[b].resultid)return this.results[b].splits;return rg2.config.SPLITS_NOT_FOUND},getTimeForID:function(a){for(var b=0;b<this.results.length;b+=1)if(a===this.results[b].resultid)return this.results[b].time;return rg2.config.TIME_NOT_FOUND},removeAllTracksFromDisplay:function(){for(var a=0;a<this.results.length;a+=1)this.results[a].removeTrackFromDisplay();this.updateTrackNames()},removeTracksFromDisplay:function(a){for(var b=0;b<this.results.length;b+=1)this.results[b].courseid==a&&this.results[b].removeTrackFromDisplay();this.updateTrackNames()},addTracks:function(a){var b,c,d,e;for(e=a.length,c=0;e>c;c+=1)if(b=a[c].resultid,d=0,b<rg2.config.GPS_RESULT_OFFSET)for(;d<this.results.length;){if(b==this.results[d].resultid){this.results[d].addTrack(a[c]);break}d+=1}},deleteAllResults:function(){this.results.length=0},getRunnerName:function(a){return this.results[a].name},sortByCourseIDThenResultID:function(a,b){return a.courseid>b.courseid?1:b.courseid>a.courseid?-1:a.resultid-b.resultid},formatResultListAsAccordion:function(){this.results.sort(this.sortByCourseIDThenResultID);var a,b,c,d="",e="",f=!0,g=0,h=0;for(c=this.results.length,b=0;c>b;b+=1)a=this.results[b],a.courseid!=g&&(f?f=!1:(d+="<tr class='allitemsrow'><td>"+rg2.t("All")+"</td><td></td>",d+=h>0?"<td><input class='allcoursetracks' id="+g+" type=checkbox name=track></input></td>":"<td></td>",d+="<td><input class='allcoursereplay' id="+g+" type=checkbox name=replay></input></td></tr>",d+="</table></div>"),h=0,d+="<h3>"+a.coursename,d+="<input class='showcourse' id="+a.courseid+" type=checkbox name=course title='Show course'></input></h3><div>",d+="<table class='resulttable'><tr><th>"+rg2.t("Name")+"</th><th>"+rg2.t("Time")+"</th><th>"+rg2.t("Route"),d+="</th><th>"+rg2.t("Replay")+"</th></tr>",g=a.courseid),e=a.isScoreEvent?"<div><input class='showscorecourse showscorecourse-"+b+"' id="+b+" type=checkbox name=scorecourse></input> "+a.name+"</div>":"<div>"+a.name+"</div>",d+=""!==a.comments?'<tr><td><a href="#" title="'+a.comments+'">'+e+"</a></td><td>"+a.time+"</td>":"<tr><td>"+e+"</td><td>"+a.time+"</td>",a.hasValidTrack?(h+=1,d+="<td><input class='showtrack showtrack-"+g+"' id="+b+" type=checkbox name=result></input></td>"):d+="<td></td>",d+="<td><input class='showreplay showreplay-"+g+"' id="+b+" type=checkbox name=replay></input></td></tr>";return""===d?d="<p>"+rg2.t("No results available")+"</p>":(d+="<tr class='allitemsrow'><td>"+rg2.t("All")+"</td><td></td>",d+=h>0?"<td><input class='allcoursetracks' id="+g+" type=checkbox name=track></input></td>":"<td></td>",d+="<td><input class='allcoursereplay' id="+g+" type=checkbox name=replay></input></td></tr>",d+="</table></div></div>"),d},getComments:function(){for(var a="",b=0;b<this.results.length;b+=1)""!==this.results[b].comments&&(a+="<p><strong>"+this.results[b].name+"</strong>: "+this.results[b].coursename+": "+this.results[b].comments+"</p>");return a},createNameDropdown:function(a){$("#rg2-name-select").empty();var b=document.getElementById("rg2-name-select"),c=document.createElement("option");c.value=null,c.text=rg2.t("Select name"),b.options.add(c);for(var d=0;d<this.results.length;d+=1)this.results[d].courseid===a&&(c=document.createElement("option"),c.value=d,c.text=this.results[d].name,b.options.add(c));b.options.add(c)}},Result.prototype={Constructor:Result,putTrackOnDisplay:function(){this.hasValidTrack&&(null===this.trackColour&&(this.trackColour=rg2.getNextRouteColour()),this.displayTrack=!0)},removeTrackFromDisplay:function(){this.hasValidTrack&&(this.displayTrack=!1)},addTrack:function(a){this.trackx=a.gpsx,this.tracky=a.gpsy;var b;b=this.isGPSTrack?this.expandGPSTrack():this.expandNormalTrack(),b&&rg2.incrementTracksCount(this.courseid)},drawTrack:function(a,b){var c;if(this.displayTrack){rg2.ctx.lineWidth=rg2.getRouteWidth(),rg2.ctx.strokeStyle=this.trackColour,rg2.ctx.globalAlpha=rg2.getRouteIntensity(),rg2.ctx.fillStyle=this.trackColour,rg2.ctx.font="10pt Arial",rg2.ctx.textAlign="left",rg2.ctx.beginPath(),rg2.ctx.moveTo(this.trackx[0],this.tracky[0]);var d=this.trackx[0],e=this.tracky[0],f=0;c=this.trackx.length;for(var g=1;c>g;g+=1)rg2.ctx.lineTo(this.trackx[g],this.tracky[g]),this.trackx[g]===d&&this.tracky[g]===e?f+=1:f>0&&((!this.isGPSTrack||this.isGPSTrack&&a)&&rg2.ctx.fillText("+"+3*f,d+5,e+5),f=0),d=this.trackx[g],e=this.tracky[g],this.isGPSTrack&&b&&(rg2.ctx.strokeStyle=this.speedColour[g],rg2.ctx.stroke(),rg2.ctx.beginPath(),rg2.ctx.moveTo(d,e));rg2.ctx.stroke()}},drawScoreCourse:function(){if(this.displayScoreCourse&&this.scorex.length>1){var a,b,c,d,e,f,g=rg2.getOverprintDetails();for(rg2.ctx.globalAlpha=rg2.config.FULL_INTENSITY,rg2.ctx.lineWidth=g.overprintWidth,rg2.ctx.strokeStyle=rg2.config.PURPLE,a=rg2.getAngle(this.scorex[0],this.scorey[0],this.scorex[1],this.scorey[1]),rg2.drawStart(this.scorex[0],this.scorey[0],"",a,g),f=0;f<this.scorex.length-1;f+=1)a=rg2.getAngle(this.scorex[f],this.scorey[f],this.scorex[f+1],this.scorey[f+1]),0===f?(b=this.scorex[f]+g.startTriangleLength*Math.cos(a),c=this.scorey[f]+g.startTriangleLength*Math.sin(a)):(b=this.scorex[f]+g.controlRadius*Math.cos(a),c=this.scorey[f]+g.controlRadius*Math.sin(a)),f===this.scorex.length-2?(d=this.scorex[f+1]-g.finishOuterRadius*Math.cos(a),e=this.scorey[f+1]-g.finishOuterRadius*Math.sin(a)):(d=this.scorex[f+1]-g.controlRadius*Math.cos(a),e=this.scorey[f+1]-g.controlRadius*Math.sin(a)),rg2.ctx.beginPath(),rg2.ctx.moveTo(b,c),rg2.ctx.lineTo(d,e),rg2.ctx.stroke();for(f=1;f<this.scorex.length-1;f+=1)rg2.drawSingleControl(this.scorex[f],this.scorey[f],f,g);rg2.drawFinish(this.scorex[this.scorex.length-1],this.scorey[this.scorey.length-1],"",g)}},expandNormalTrack:function(){this.xysecs.length=0,this.cumulativeDistance.length=0,this.xysecs[0]=0,this.cumulativeDistance[0]=0;var a={};this.isScoreEvent?(a.x=this.scorex,a.y=this.scorey):(a.x=rg2.getCourseDetails(this.courseid).x,a.y=rg2.getCourseDetails(this.courseid).y);var b,c,d,e=1,f=a.x[e],g=a.y[e],h=0,i=this.trackx[0],j=this.tracky[0],k=0,l=0,m=0,n=0,o=0,p=0,q=0;for(d=this.trackx.length,b=1;d>b;b+=1)if(k=this.trackx[b],l=this.tracky[b],h+=rg2.getDistanceBetweenPoints(k,l,i,j),this.cumulativeDistance[b]=Math.round(h),i=k,j=l,f==k&&g==l){for(this.xysecs[b]=parseInt(this.splits[e],10),p=this.xysecs[q],m=this.xysecs[b]-p,o=this.cumulativeDistance[q],n=this.cumulativeDistance[b]-o,c=q;b>=c;c+=1)this.xysecs[c]=p+Math.round((this.cumulativeDistance[c]-o)*m/n);if(q=b,e+=1,e===a.x.length){this.hasValidTrack=!0;break}f=a.x[e],g=a.y[e]}return this.isScoreEvent&&(this.hasValidTrack=!0),this.hasValidTrack},expandGPSTrack:function(){var a,b,c,d=0,e=this.trackx[0],f=this.tracky[0],g=0,h=0,i=0,j=0,k=1,l=this.trackx.length;for(a=0;l>a;a+=1)this.xysecs[a]=3*a,g=this.trackx[a],h=this.tracky[a],b=rg2.getDistanceBetweenPoints(g,h,e,f),d+=b,c=b+j,c>i&&(i=c),this.speedColour[a]=Math.pow(c,k),this.cumulativeDistance[a]=Math.round(d),e=g,f=h,j=b;return this.setSpeedColours(Math.pow(i,k)),this.hasValidTrack=!0,this.hasValidTrack},setSpeedColours:function(a){var b,c,d,e;for(e=a/2,b=1;b<this.speedColour.length;b+=1)this.speedColour[b]>e?(c=Math.round(255*(this.speedColour[b]-e)/e),d=255):(d=Math.round(255*this.speedColour[b]/e),c=255),this.speedColour[b]="#",16>c&&(this.speedColour[b]+="0"),this.speedColour[b]+=c.toString(16),16>d&&(this.speedColour[b]+="0"),this.speedColour[b]+=d.toString(16)+"00"},getCourseName:function(){return""!==this.coursename?this.coursename:"GPS tracks"},getRunnerName:function(){return this.name},getTime:function(){return this.time},getInitials:function(a){if(null===a)return"";a.trim();var b,c,d=a.length,e="";if(0===d)return"";for(c=!0,b=0;d>b;b+=1)c&&(e+=a.substr(b,1),c=!1)," "===a.charAt(b)&&(c=!0);return e}},function(a){var b="object"==typeof exports&&exports,c="object"==typeof module&&module&&module.exports==b&&module,d="object"==typeof global&&global;(d.global===d||d.window===d)&&(a=d);var e=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,f=/[\x01-\x7F]/g,g=/[\x01-\t\x0B\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,h=/<\u20D2|=\u20E5|>\u20D2|\u205F\u200A|\u219D\u0338|\u2202\u0338|\u2220\u20D2|\u2229\uFE00|\u222A\uFE00|\u223C\u20D2|\u223D\u0331|\u223E\u0333|\u2242\u0338|\u224B\u0338|\u224D\u20D2|\u224E\u0338|\u224F\u0338|\u2250\u0338|\u2261\u20E5|\u2264\u20D2|\u2265\u20D2|\u2266\u0338|\u2267\u0338|\u2268\uFE00|\u2269\uFE00|\u226A\u0338|\u226A\u20D2|\u226B\u0338|\u226B\u20D2|\u227F\u0338|\u2282\u20D2|\u2283\u20D2|\u228A\uFE00|\u228B\uFE00|\u228F\u0338|\u2290\u0338|\u2293\uFE00|\u2294\uFE00|\u22B4\u20D2|\u22B5\u20D2|\u22D8\u0338|\u22D9\u0338|\u22DA\uFE00|\u22DB\uFE00|\u22F5\u0338|\u22F9\u0338|\u2933\u0338|\u29CF\u0338|\u29D0\u0338|\u2A6D\u0338|\u2A70\u0338|\u2A7D\u0338|\u2A7E\u0338|\u2AA1\u0338|\u2AA2\u0338|\u2AAC\uFE00|\u2AAD\uFE00|\u2AAF\u0338|\u2AB0\u0338|\u2AC5\u0338|\u2AC6\u0338|\u2ACB\uFE00|\u2ACC\uFE00|\u2AFD\u20E5|[\xA0-\u0113\u0116-\u0122\u0124-\u012B\u012E-\u014D\u0150-\u017E\u0192\u01B5\u01F5\u0237\u02C6\u02C7\u02D8-\u02DD\u0311\u0391-\u03A1\u03A3-\u03A9\u03B1-\u03C9\u03D1\u03D2\u03D5\u03D6\u03DC\u03DD\u03F0\u03F1\u03F5\u03F6\u0401-\u040C\u040E-\u044F\u0451-\u045C\u045E\u045F\u2002-\u2005\u2007-\u2010\u2013-\u2016\u2018-\u201A\u201C-\u201E\u2020-\u2022\u2025\u2026\u2030-\u2035\u2039\u203A\u203E\u2041\u2043\u2044\u204F\u2057\u205F-\u2063\u20AC\u20DB\u20DC\u2102\u2105\u210A-\u2113\u2115-\u211E\u2122\u2124\u2127-\u2129\u212C\u212D\u212F-\u2131\u2133-\u2138\u2145-\u2148\u2153-\u215E\u2190-\u219B\u219D-\u21A7\u21A9-\u21AE\u21B0-\u21B3\u21B5-\u21B7\u21BA-\u21DB\u21DD\u21E4\u21E5\u21F5\u21FD-\u2205\u2207-\u2209\u220B\u220C\u220F-\u2214\u2216-\u2218\u221A\u221D-\u2238\u223A-\u2257\u2259\u225A\u225C\u225F-\u2262\u2264-\u228B\u228D-\u229B\u229D-\u22A5\u22A7-\u22B0\u22B2-\u22BB\u22BD-\u22DB\u22DE-\u22E3\u22E6-\u22F7\u22F9-\u22FE\u2305\u2306\u2308-\u2310\u2312\u2313\u2315\u2316\u231C-\u231F\u2322\u2323\u232D\u232E\u2336\u233D\u233F\u237C\u23B0\u23B1\u23B4-\u23B6\u23DC-\u23DF\u23E2\u23E7\u2423\u24C8\u2500\u2502\u250C\u2510\u2514\u2518\u251C\u2524\u252C\u2534\u253C\u2550-\u256C\u2580\u2584\u2588\u2591-\u2593\u25A1\u25AA\u25AB\u25AD\u25AE\u25B1\u25B3-\u25B5\u25B8\u25B9\u25BD-\u25BF\u25C2\u25C3\u25CA\u25CB\u25EC\u25EF\u25F8-\u25FC\u2605\u2606\u260E\u2640\u2642\u2660\u2663\u2665\u2666\u266A\u266D-\u266F\u2713\u2717\u2720\u2736\u2758\u2772\u2773\u27C8\u27C9\u27E6-\u27ED\u27F5-\u27FA\u27FC\u27FF\u2902-\u2905\u290C-\u2913\u2916\u2919-\u2920\u2923-\u292A\u2933\u2935-\u2939\u293C\u293D\u2945\u2948-\u294B\u294E-\u2976\u2978\u2979\u297B-\u297F\u2985\u2986\u298B-\u2996\u299A\u299C\u299D\u29A4-\u29B7\u29B9\u29BB\u29BC\u29BE-\u29C5\u29C9\u29CD-\u29D0\u29DC-\u29DE\u29E3-\u29E5\u29EB\u29F4\u29F6\u2A00-\u2A02\u2A04\u2A06\u2A0C\u2A0D\u2A10-\u2A17\u2A22-\u2A27\u2A29\u2A2A\u2A2D-\u2A31\u2A33-\u2A3C\u2A3F\u2A40\u2A42-\u2A4D\u2A50\u2A53-\u2A58\u2A5A-\u2A5D\u2A5F\u2A66\u2A6A\u2A6D-\u2A75\u2A77-\u2A9A\u2A9D-\u2AA2\u2AA4-\u2AB0\u2AB3-\u2AC8\u2ACB\u2ACC\u2ACF-\u2ADB\u2AE4\u2AE6-\u2AE9\u2AEB-\u2AF3\u2AFD\uFB00-\uFB04]|\uD835[\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDD6B]/g,i={"Á":"Aacute","á":"aacute","Ă":"Abreve","ă":"abreve","∾":"ac","∿":"acd","∾̳":"acE","Â":"Acirc","â":"acirc","´":"acute","А":"Acy","а":"acy","Æ":"AElig","æ":"aelig","⁡":"af","𝔄":"Afr","𝔞":"afr","À":"Agrave","à":"agrave","ℵ":"aleph","Α":"Alpha","α":"alpha","Ā":"Amacr","ā":"amacr","⨿":"amalg","&":"amp","⩕":"andand","⩓":"And","∧":"and","⩜":"andd","⩘":"andslope","⩚":"andv","∠":"ang","⦤":"ange","⦨":"angmsdaa","⦩":"angmsdab","⦪":"angmsdac","⦫":"angmsdad","⦬":"angmsdae","⦭":"angmsdaf","⦮":"angmsdag","⦯":"angmsdah","∡":"angmsd","∟":"angrt","⊾":"angrtvb","⦝":"angrtvbd","∢":"angsph","Å":"angst","⍼":"angzarr","Ą":"Aogon","ą":"aogon","𝔸":"Aopf","𝕒":"aopf","⩯":"apacir","≈":"ap","⩰":"apE","≊":"ape","≋":"apid","'":"apos","å":"aring","𝒜":"Ascr","𝒶":"ascr","≔":"colone","*":"ast","≍":"CupCap","Ã":"Atilde","ã":"atilde","Ä":"Auml","ä":"auml","∳":"awconint","⨑":"awint","≌":"bcong","϶":"bepsi","‵":"bprime","∽":"bsim","⋍":"bsime","∖":"setmn","⫧":"Barv","⊽":"barvee","⌅":"barwed","⌆":"Barwed","⎵":"bbrk","⎶":"bbrktbrk","Б":"Bcy","б":"bcy","„":"bdquo","∵":"becaus","⦰":"bemptyv","ℬ":"Bscr","Β":"Beta","β":"beta","ℶ":"beth","≬":"twixt","𝔅":"Bfr","𝔟":"bfr","⋂":"xcap","◯":"xcirc","⋃":"xcup","⨀":"xodot","⨁":"xoplus","⨂":"xotime","⨆":"xsqcup","★":"starf","▽":"xdtri","△":"xutri","⨄":"xuplus","⋁":"Vee","⋀":"Wedge","⤍":"rbarr","⧫":"lozf","▪":"squf","▴":"utrif","▾":"dtrif","◂":"ltrif","▸":"rtrif","␣":"blank","▒":"blk12","░":"blk14","▓":"blk34","█":"block","=⃥":"bne","≡⃥":"bnequiv","⫭":"bNot","⌐":"bnot","𝔹":"Bopf","𝕓":"bopf","⊥":"bot","⋈":"bowtie","⧉":"boxbox","┐":"boxdl","╕":"boxdL","╖":"boxDl","╗":"boxDL","┌":"boxdr","╒":"boxdR","╓":"boxDr","╔":"boxDR","─":"boxh","═":"boxH","┬":"boxhd","╤":"boxHd","╥":"boxhD","╦":"boxHD","┴":"boxhu","╧":"boxHu","╨":"boxhU","╩":"boxHU","⊟":"minusb","⊞":"plusb","⊠":"timesb","┘":"boxul","╛":"boxuL","╜":"boxUl","╝":"boxUL","└":"boxur","╘":"boxuR","╙":"boxUr","╚":"boxUR","│":"boxv","║":"boxV","┼":"boxvh","╪":"boxvH","╫":"boxVh","╬":"boxVH","┤":"boxvl","╡":"boxvL","╢":"boxVl","╣":"boxVL","├":"boxvr","╞":"boxvR","╟":"boxVr","╠":"boxVR","˘":"breve","¦":"brvbar","𝒷":"bscr","⁏":"bsemi","⧅":"bsolb","\\":"bsol","⟈":"bsolhsub","•":"bull","≎":"bump","⪮":"bumpE","≏":"bumpe","Ć":"Cacute","ć":"cacute","⩄":"capand","⩉":"capbrcup","⩋":"capcap","∩":"cap","⋒":"Cap","⩇":"capcup","⩀":"capdot","ⅅ":"DD","∩︀":"caps","⁁":"caret","ˇ":"caron","ℭ":"Cfr","⩍":"ccaps","Č":"Ccaron","č":"ccaron","Ç":"Ccedil","ç":"ccedil","Ĉ":"Ccirc","ĉ":"ccirc","∰":"Cconint","⩌":"ccups","⩐":"ccupssm","Ċ":"Cdot","ċ":"cdot","¸":"cedil","⦲":"cemptyv","¢":"cent","·":"middot","𝔠":"cfr","Ч":"CHcy","ч":"chcy","✓":"check","Χ":"Chi","χ":"chi","ˆ":"circ","≗":"cire","↺":"olarr","↻":"orarr","⊛":"oast","⊚":"ocir","⊝":"odash","⊙":"odot","®":"reg","Ⓢ":"oS","⊖":"ominus","⊕":"oplus","⊗":"otimes","○":"cir","⧃":"cirE","⨐":"cirfnint","⫯":"cirmid","⧂":"cirscir","∲":"cwconint","”":"rdquo","’":"rsquo","♣":"clubs",":":"colon","∷":"Colon","⩴":"Colone",",":"comma","@":"commat","∁":"comp","∘":"compfn","ℂ":"Copf","≅":"cong","⩭":"congdot","≡":"equiv","∮":"oint","∯":"Conint","𝕔":"copf","∐":"coprod","©":"copy","℗":"copysr","↵":"crarr","✗":"cross","⨯":"Cross","𝒞":"Cscr","𝒸":"cscr","⫏":"csub","⫑":"csube","⫐":"csup","⫒":"csupe","⋯":"ctdot","⤸":"cudarrl","⤵":"cudarrr","⋞":"cuepr","⋟":"cuesc","↶":"cularr","⤽":"cularrp","⩈":"cupbrcap","⩆":"cupcap","∪":"cup","⋓":"Cup","⩊":"cupcup","⊍":"cupdot","⩅":"cupor","∪︀":"cups","↷":"curarr","⤼":"curarrm","⋎":"cuvee","⋏":"cuwed","¤":"curren","∱":"cwint","⌭":"cylcty","†":"dagger","‡":"Dagger","ℸ":"daleth","↓":"darr","↡":"Darr","⇓":"dArr","‐":"dash","⫤":"Dashv","⊣":"dashv","⤏":"rBarr","˝":"dblac","Ď":"Dcaron","ď":"dcaron","Д":"Dcy","д":"dcy","⇊":"ddarr","ⅆ":"dd","⤑":"DDotrahd","⩷":"eDDot","°":"deg","∇":"Del","Δ":"Delta","δ":"delta","⦱":"demptyv","⥿":"dfisht","𝔇":"Dfr","𝔡":"dfr","⥥":"dHar","⇃":"dharl","⇂":"dharr","˙":"dot","`":"grave","˜":"tilde","⋄":"diam","♦":"diams","¨":"die","ϝ":"gammad","⋲":"disin","÷":"div","⋇":"divonx","Ђ":"DJcy","ђ":"djcy","⌞":"dlcorn","⌍":"dlcrop",$:"dollar","𝔻":"Dopf","𝕕":"dopf","⃜":"DotDot","≐":"doteq","≑":"eDot","∸":"minusd","∔":"plusdo","⊡":"sdotb","⇐":"lArr","⇔":"iff","⟸":"xlArr","⟺":"xhArr","⟹":"xrArr","⇒":"rArr","⊨":"vDash","⇑":"uArr","⇕":"vArr","∥":"par","⤓":"DownArrowBar","⇵":"duarr","̑":"DownBreve","⥐":"DownLeftRightVector","⥞":"DownLeftTeeVector","⥖":"DownLeftVectorBar","↽":"lhard","⥟":"DownRightTeeVector","⥗":"DownRightVectorBar","⇁":"rhard","↧":"mapstodown","⊤":"top","⤐":"RBarr","⌟":"drcorn","⌌":"drcrop","𝒟":"Dscr","𝒹":"dscr","Ѕ":"DScy","ѕ":"dscy","⧶":"dsol","Đ":"Dstrok","đ":"dstrok","⋱":"dtdot","▿":"dtri","⥯":"duhar","⦦":"dwangle","Џ":"DZcy","џ":"dzcy","⟿":"dzigrarr","É":"Eacute","é":"eacute","⩮":"easter","Ě":"Ecaron","ě":"ecaron","Ê":"Ecirc","ê":"ecirc","≖":"ecir","≕":"ecolon","Э":"Ecy","э":"ecy","Ė":"Edot","ė":"edot","ⅇ":"ee","≒":"efDot","𝔈":"Efr","𝔢":"efr","⪚":"eg","È":"Egrave","è":"egrave","⪖":"egs","⪘":"egsdot","⪙":"el","∈":"in","⏧":"elinters","ℓ":"ell","⪕":"els","⪗":"elsdot","Ē":"Emacr","ē":"emacr","∅":"empty","◻":"EmptySmallSquare","▫":"EmptyVerySmallSquare"," ":"emsp13"," ":"emsp14"," ":"emsp","Ŋ":"ENG","ŋ":"eng"," ":"ensp","Ę":"Eogon","ę":"eogon","𝔼":"Eopf","𝕖":"eopf","⋕":"epar","⧣":"eparsl","⩱":"eplus","ε":"epsi","Ε":"Epsilon","ϵ":"epsiv","≂":"esim","⩵":"Equal","=":"equals","≟":"equest","⇌":"rlhar","⩸":"equivDD","⧥":"eqvparsl","⥱":"erarr","≓":"erDot","ℯ":"escr","ℰ":"Escr","⩳":"Esim","Η":"Eta","η":"eta","Ð":"ETH","ð":"eth","Ë":"Euml","ë":"euml","€":"euro","!":"excl","∃":"exist","Ф":"Fcy","ф":"fcy","♀":"female","ﬃ":"ffilig","ﬀ":"fflig","ﬄ":"ffllig","𝔉":"Ffr","𝔣":"ffr","ﬁ":"filig","◼":"FilledSmallSquare",fj:"fjlig","♭":"flat","ﬂ":"fllig","▱":"fltns","ƒ":"fnof","𝔽":"Fopf","𝕗":"fopf","∀":"forall","⋔":"fork","⫙":"forkv","ℱ":"Fscr","⨍":"fpartint","½":"half","⅓":"frac13","¼":"frac14","⅕":"frac15","⅙":"frac16","⅛":"frac18","⅔":"frac23","⅖":"frac25","¾":"frac34","⅗":"frac35","⅜":"frac38","⅘":"frac45","⅚":"frac56","⅝":"frac58","⅞":"frac78","⁄":"frasl","⌢":"frown","𝒻":"fscr","ǵ":"gacute","Γ":"Gamma","γ":"gamma","Ϝ":"Gammad","⪆":"gap","Ğ":"Gbreve","ğ":"gbreve","Ģ":"Gcedil","Ĝ":"Gcirc","ĝ":"gcirc","Г":"Gcy","г":"gcy","Ġ":"Gdot","ġ":"gdot","≥":"ge","≧":"gE","⪌":"gEl","⋛":"gel","⩾":"ges","⪩":"gescc","⪀":"gesdot","⪂":"gesdoto","⪄":"gesdotol","⋛︀":"gesl","⪔":"gesles","𝔊":"Gfr","𝔤":"gfr","≫":"gg","⋙":"Gg","ℷ":"gimel","Ѓ":"GJcy","ѓ":"gjcy","⪥":"gla","≷":"gl","⪒":"glE","⪤":"glj","⪊":"gnap","⪈":"gne","≩":"gnE","⋧":"gnsim","𝔾":"Gopf","𝕘":"gopf","⪢":"GreaterGreater","≳":"gsim","𝒢":"Gscr","ℊ":"gscr","⪎":"gsime","⪐":"gsiml","⪧":"gtcc","⩺":"gtcir",">":"gt","⋗":"gtdot","⦕":"gtlPar","⩼":"gtquest","⥸":"gtrarr","≩︀":"gvnE"," ":"hairsp","ℋ":"Hscr","Ъ":"HARDcy","ъ":"hardcy","⥈":"harrcir","↔":"harr","↭":"harrw","^":"Hat","ℏ":"hbar","Ĥ":"Hcirc","ĥ":"hcirc","♥":"hearts","…":"mldr","⊹":"hercon","𝔥":"hfr","ℌ":"Hfr","⤥":"searhk","⤦":"swarhk","⇿":"hoarr","∻":"homtht","↩":"larrhk","↪":"rarrhk","𝕙":"hopf","ℍ":"Hopf","―":"horbar","𝒽":"hscr","Ħ":"Hstrok","ħ":"hstrok","⁃":"hybull","Í":"Iacute","í":"iacute","⁣":"ic","Î":"Icirc","î":"icirc","И":"Icy","и":"icy","İ":"Idot","Е":"IEcy","е":"iecy","¡":"iexcl","𝔦":"ifr","ℑ":"Im","Ì":"Igrave","ì":"igrave","ⅈ":"ii","⨌":"qint","∭":"tint","⧜":"iinfin","℩":"iiota","Ĳ":"IJlig","ĳ":"ijlig","Ī":"Imacr","ī":"imacr","ℐ":"Iscr","ı":"imath","⊷":"imof","Ƶ":"imped","℅":"incare","∞":"infin","⧝":"infintie","⊺":"intcal","∫":"int","∬":"Int","ℤ":"Zopf","⨗":"intlarhk","⨼":"iprod","⁢":"it","Ё":"IOcy","ё":"iocy","Į":"Iogon","į":"iogon","𝕀":"Iopf","𝕚":"iopf","Ι":"Iota","ι":"iota","¿":"iquest","𝒾":"iscr","⋵":"isindot","⋹":"isinE","⋴":"isins","⋳":"isinsv","Ĩ":"Itilde","ĩ":"itilde","І":"Iukcy","і":"iukcy","Ï":"Iuml","ï":"iuml","Ĵ":"Jcirc","ĵ":"jcirc","Й":"Jcy","й":"jcy","𝔍":"Jfr","𝔧":"jfr","ȷ":"jmath","𝕁":"Jopf","𝕛":"jopf","𝒥":"Jscr","𝒿":"jscr","Ј":"Jsercy","ј":"jsercy","Є":"Jukcy","є":"jukcy","Κ":"Kappa","κ":"kappa","ϰ":"kappav","Ķ":"Kcedil","ķ":"kcedil","К":"Kcy","к":"kcy","𝔎":"Kfr","𝔨":"kfr","ĸ":"kgreen","Х":"KHcy","х":"khcy","Ќ":"KJcy","ќ":"kjcy","𝕂":"Kopf","𝕜":"kopf","𝒦":"Kscr","𝓀":"kscr","⇚":"lAarr","Ĺ":"Lacute","ĺ":"lacute","⦴":"laemptyv","ℒ":"Lscr","Λ":"Lambda","λ":"lambda","⟨":"lang","⟪":"Lang","⦑":"langd","⪅":"lap","«":"laquo","⇤":"larrb","⤟":"larrbfs","←":"larr","↞":"Larr","⤝":"larrfs","↫":"larrlp","⤹":"larrpl","⥳":"larrsim","↢":"larrtl","⤙":"latail","⤛":"lAtail","⪫":"lat","⪭":"late","⪭︀":"lates","⤌":"lbarr","⤎":"lBarr","❲":"lbbrk","{":"lcub","[":"lsqb","⦋":"lbrke","⦏":"lbrksld","⦍":"lbrkslu","Ľ":"Lcaron","ľ":"lcaron","Ļ":"Lcedil","ļ":"lcedil","⌈":"lceil","Л":"Lcy","л":"lcy","⤶":"ldca","“":"ldquo","⥧":"ldrdhar","⥋":"ldrushar","↲":"ldsh","≤":"le","≦":"lE","⇆":"lrarr","⟦":"lobrk","⥡":"LeftDownTeeVector","⥙":"LeftDownVectorBar","⌊":"lfloor","↼":"lharu","⇇":"llarr","⇋":"lrhar","⥎":"LeftRightVector","↤":"mapstoleft","⥚":"LeftTeeVector","⋋":"lthree","⧏":"LeftTriangleBar","⊲":"vltri","⊴":"ltrie","⥑":"LeftUpDownVector","⥠":"LeftUpTeeVector","⥘":"LeftUpVectorBar","↿":"uharl","⥒":"LeftVectorBar","⪋":"lEg","⋚":"leg","⩽":"les","⪨":"lescc","⩿":"lesdot","⪁":"lesdoto","⪃":"lesdotor","⋚︀":"lesg","⪓":"lesges","⋖":"ltdot","≶":"lg","⪡":"LessLess","≲":"lsim","⥼":"lfisht","𝔏":"Lfr","𝔩":"lfr","⪑":"lgE","⥢":"lHar","⥪":"lharul","▄":"lhblk","Љ":"LJcy","љ":"ljcy","≪":"ll","⋘":"Ll","⥫":"llhard","◺":"lltri","Ŀ":"Lmidot","ŀ":"lmidot","⎰":"lmoust","⪉":"lnap","⪇":"lne","≨":"lnE","⋦":"lnsim","⟬":"loang","⇽":"loarr","⟵":"xlarr","⟷":"xharr","⟼":"xmap","⟶":"xrarr","↬":"rarrlp","⦅":"lopar","𝕃":"Lopf","𝕝":"lopf","⨭":"loplus","⨴":"lotimes","∗":"lowast",_:"lowbar","↙":"swarr","↘":"searr","◊":"loz","(":"lpar","⦓":"lparlt","⥭":"lrhard","‎":"lrm","⊿":"lrtri","‹":"lsaquo","𝓁":"lscr","↰":"lsh","⪍":"lsime","⪏":"lsimg","‘":"lsquo","‚":"sbquo","Ł":"Lstrok","ł":"lstrok","⪦":"ltcc","⩹":"ltcir","<":"lt","⋉":"ltimes","⥶":"ltlarr","⩻":"ltquest","◃":"ltri","⦖":"ltrPar","⥊":"lurdshar","⥦":"luruhar","≨︀":"lvnE","¯":"macr","♂":"male","✠":"malt","⤅":"Map","↦":"map","↥":"mapstoup","▮":"marker","⨩":"mcomma","М":"Mcy","м":"mcy","—":"mdash","∺":"mDDot"," ":"MediumSpace","ℳ":"Mscr","𝔐":"Mfr","𝔪":"mfr","℧":"mho","µ":"micro","⫰":"midcir","∣":"mid","−":"minus","⨪":"minusdu","∓":"mp","⫛":"mlcp","⊧":"models","𝕄":"Mopf","𝕞":"mopf","𝓂":"mscr","Μ":"Mu","μ":"mu","⊸":"mumap","Ń":"Nacute","ń":"nacute","∠⃒":"nang","≉":"nap","⩰̸":"napE","≋̸":"napid","ŉ":"napos","♮":"natur","ℕ":"Nopf"," ":"nbsp","≎̸":"nbump","≏̸":"nbumpe","⩃":"ncap","Ň":"Ncaron","ň":"ncaron","Ņ":"Ncedil","ņ":"ncedil","≇":"ncong","⩭̸":"ncongdot","⩂":"ncup","Н":"Ncy","н":"ncy","–":"ndash","⤤":"nearhk","↗":"nearr","⇗":"neArr","≠":"ne","≐̸":"nedot","​":"ZeroWidthSpace","≢":"nequiv","⤨":"toea","≂̸":"nesim","\n":"NewLine","∄":"nexist","𝔑":"Nfr","𝔫":"nfr","≧̸":"ngE","≱":"nge","⩾̸":"nges","⋙̸":"nGg","≵":"ngsim","≫⃒":"nGt","≯":"ngt","≫̸":"nGtv","↮":"nharr","⇎":"nhArr","⫲":"nhpar","∋":"ni","⋼":"nis","⋺":"nisd","Њ":"NJcy","њ":"njcy","↚":"nlarr","⇍":"nlArr","‥":"nldr","≦̸":"nlE","≰":"nle","⩽̸":"nles","≮":"nlt","⋘̸":"nLl","≴":"nlsim","≪⃒":"nLt","⋪":"nltri","⋬":"nltrie","≪̸":"nLtv","∤":"nmid","⁠":"NoBreak","𝕟":"nopf","⫬":"Not","¬":"not","≭":"NotCupCap","∦":"npar","∉":"notin","≹":"ntgl","⋵̸":"notindot","⋹̸":"notinE","⋷":"notinvb","⋶":"notinvc","⧏̸":"NotLeftTriangleBar","≸":"ntlg","⪢̸":"NotNestedGreaterGreater","⪡̸":"NotNestedLessLess","∌":"notni","⋾":"notnivb","⋽":"notnivc","⊀":"npr","⪯̸":"npre","⋠":"nprcue","⧐̸":"NotRightTriangleBar","⋫":"nrtri","⋭":"nrtrie","⊏̸":"NotSquareSubset","⋢":"nsqsube","⊐̸":"NotSquareSuperset","⋣":"nsqsupe","⊂⃒":"vnsub","⊈":"nsube","⊁":"nsc","⪰̸":"nsce","⋡":"nsccue","≿̸":"NotSucceedsTilde","⊃⃒":"vnsup","⊉":"nsupe","≁":"nsim","≄":"nsime","⫽⃥":"nparsl","∂̸":"npart","⨔":"npolint","⤳̸":"nrarrc","↛":"nrarr","⇏":"nrArr","↝̸":"nrarrw","𝒩":"Nscr","𝓃":"nscr","⊄":"nsub","⫅̸":"nsubE","⊅":"nsup","⫆̸":"nsupE","Ñ":"Ntilde","ñ":"ntilde","Ν":"Nu","ν":"nu","#":"num","№":"numero"," ":"numsp","≍⃒":"nvap","⊬":"nvdash","⊭":"nvDash","⊮":"nVdash","⊯":"nVDash","≥⃒":"nvge",">⃒":"nvgt","⤄":"nvHarr","⧞":"nvinfin","⤂":"nvlArr","≤⃒":"nvle","<⃒":"nvlt","⊴⃒":"nvltrie","⤃":"nvrArr","⊵⃒":"nvrtrie","∼⃒":"nvsim","⤣":"nwarhk","↖":"nwarr","⇖":"nwArr","⤧":"nwnear","Ó":"Oacute","ó":"oacute","Ô":"Ocirc","ô":"ocirc","О":"Ocy","о":"ocy","Ő":"Odblac","ő":"odblac","⨸":"odiv","⦼":"odsold","Œ":"OElig","œ":"oelig","⦿":"ofcir","𝔒":"Ofr","𝔬":"ofr","˛":"ogon","Ò":"Ograve","ò":"ograve","⧁":"ogt","⦵":"ohbar","Ω":"ohm","⦾":"olcir","⦻":"olcross","‾":"oline","⧀":"olt","Ō":"Omacr","ō":"omacr","ω":"omega","Ο":"Omicron","ο":"omicron","⦶":"omid","𝕆":"Oopf","𝕠":"oopf","⦷":"opar","⦹":"operp","⩔":"Or","∨":"or","⩝":"ord","ℴ":"oscr","ª":"ordf","º":"ordm","⊶":"origof","⩖":"oror","⩗":"orslope","⩛":"orv","𝒪":"Oscr","Ø":"Oslash","ø":"oslash","⊘":"osol","Õ":"Otilde","õ":"otilde","⨶":"otimesas","⨷":"Otimes","Ö":"Ouml","ö":"ouml","⌽":"ovbar","⏞":"OverBrace","⎴":"tbrk","⏜":"OverParenthesis","¶":"para","⫳":"parsim","⫽":"parsl","∂":"part","П":"Pcy","п":"pcy","%":"percnt",".":"period","‰":"permil","‱":"pertenk","𝔓":"Pfr","𝔭":"pfr","Φ":"Phi","φ":"phi","ϕ":"phiv","☎":"phone","Π":"Pi","π":"pi","ϖ":"piv","ℎ":"planckh","⨣":"plusacir","⨢":"pluscir","+":"plus","⨥":"plusdu","⩲":"pluse","±":"pm","⨦":"plussim","⨧":"plustwo","⨕":"pointint","𝕡":"popf","ℙ":"Popf","£":"pound","⪷":"prap","⪻":"Pr","≺":"pr","≼":"prcue","⪯":"pre","≾":"prsim","⪹":"prnap","⪵":"prnE","⋨":"prnsim","⪳":"prE","′":"prime","″":"Prime","∏":"prod","⌮":"profalar","⌒":"profline","⌓":"profsurf","∝":"prop","⊰":"prurel","𝒫":"Pscr","𝓅":"pscr","Ψ":"Psi","ψ":"psi"," ":"puncsp","𝔔":"Qfr","𝔮":"qfr","𝕢":"qopf","ℚ":"Qopf","⁗":"qprime","𝒬":"Qscr","𝓆":"qscr","⨖":"quatint","?":"quest",'"':"quot","⇛":"rAarr","∽̱":"race","Ŕ":"Racute","ŕ":"racute","√":"Sqrt","⦳":"raemptyv","⟩":"rang","⟫":"Rang","⦒":"rangd","⦥":"range","»":"raquo","⥵":"rarrap","⇥":"rarrb","⤠":"rarrbfs","⤳":"rarrc","→":"rarr","↠":"Rarr","⤞":"rarrfs","⥅":"rarrpl","⥴":"rarrsim","⤖":"Rarrtl","↣":"rarrtl","↝":"rarrw","⤚":"ratail","⤜":"rAtail","∶":"ratio","❳":"rbbrk","}":"rcub","]":"rsqb","⦌":"rbrke","⦎":"rbrksld","⦐":"rbrkslu","Ř":"Rcaron","ř":"rcaron","Ŗ":"Rcedil","ŗ":"rcedil","⌉":"rceil","Р":"Rcy","р":"rcy","⤷":"rdca","⥩":"rdldhar","↳":"rdsh","ℜ":"Re","ℛ":"Rscr","ℝ":"Ropf","▭":"rect","⥽":"rfisht","⌋":"rfloor","𝔯":"rfr","⥤":"rHar","⇀":"rharu","⥬":"rharul","Ρ":"Rho","ρ":"rho","ϱ":"rhov","⇄":"rlarr","⟧":"robrk","⥝":"RightDownTeeVector","⥕":"RightDownVectorBar","⇉":"rrarr","⊢":"vdash","⥛":"RightTeeVector","⋌":"rthree","⧐":"RightTriangleBar","⊳":"vrtri","⊵":"rtrie","⥏":"RightUpDownVector","⥜":"RightUpTeeVector","⥔":"RightUpVectorBar","↾":"uharr","⥓":"RightVectorBar","˚":"ring","‏":"rlm","⎱":"rmoust","⫮":"rnmid","⟭":"roang","⇾":"roarr","⦆":"ropar","𝕣":"ropf","⨮":"roplus","⨵":"rotimes","⥰":"RoundImplies",")":"rpar","⦔":"rpargt","⨒":"rppolint","›":"rsaquo","𝓇":"rscr","↱":"rsh","⋊":"rtimes","▹":"rtri","⧎":"rtriltri","⧴":"RuleDelayed","⥨":"ruluhar","℞":"rx","Ś":"Sacute","ś":"sacute","⪸":"scap","Š":"Scaron","š":"scaron","⪼":"Sc","≻":"sc","≽":"sccue","⪰":"sce","⪴":"scE","Ş":"Scedil","ş":"scedil","Ŝ":"Scirc","ŝ":"scirc","⪺":"scnap","⪶":"scnE","⋩":"scnsim","⨓":"scpolint","≿":"scsim","С":"Scy","с":"scy","⋅":"sdot","⩦":"sdote","⇘":"seArr","§":"sect",";":"semi","⤩":"tosa","✶":"sext","𝔖":"Sfr","𝔰":"sfr","♯":"sharp","Щ":"SHCHcy","щ":"shchcy","Ш":"SHcy","ш":"shcy","↑":"uarr","­":"shy","Σ":"Sigma","σ":"sigma","ς":"sigmaf","∼":"sim","⩪":"simdot","≃":"sime","⪞":"simg","⪠":"simgE","⪝":"siml","⪟":"simlE","≆":"simne","⨤":"simplus","⥲":"simrarr","⨳":"smashp","⧤":"smeparsl","⌣":"smile","⪪":"smt","⪬":"smte","⪬︀":"smtes","Ь":"SOFTcy","ь":"softcy","⌿":"solbar","⧄":"solb","/":"sol","𝕊":"Sopf","𝕤":"sopf","♠":"spades","⊓":"sqcap","⊓︀":"sqcaps","⊔":"sqcup","⊔︀":"sqcups","⊏":"sqsub","⊑":"sqsube","⊐":"sqsup","⊒":"sqsupe","□":"squ","𝒮":"Sscr","𝓈":"sscr","⋆":"Star","☆":"star","⊂":"sub","⋐":"Sub","⪽":"subdot","⫅":"subE","⊆":"sube","⫃":"subedot","⫁":"submult","⫋":"subnE","⊊":"subne","⪿":"subplus","⥹":"subrarr","⫇":"subsim","⫕":"subsub","⫓":"subsup","∑":"sum","♪":"sung","¹":"sup1","²":"sup2","³":"sup3","⊃":"sup","⋑":"Sup","⪾":"supdot","⫘":"supdsub","⫆":"supE","⊇":"supe","⫄":"supedot","⟉":"suphsol","⫗":"suphsub","⥻":"suplarr","⫂":"supmult","⫌":"supnE","⊋":"supne","⫀":"supplus","⫈":"supsim","⫔":"supsub","⫖":"supsup","⇙":"swArr","⤪":"swnwar","ß":"szlig","	":"Tab","⌖":"target","Τ":"Tau","τ":"tau","Ť":"Tcaron","ť":"tcaron","Ţ":"Tcedil","ţ":"tcedil","Т":"Tcy","т":"tcy","⃛":"tdot","⌕":"telrec","𝔗":"Tfr","𝔱":"tfr","∴":"there4","Θ":"Theta","θ":"theta","ϑ":"thetav","  ":"ThickSpace"," ":"thinsp","Þ":"THORN","þ":"thorn","⨱":"timesbar","×":"times","⨰":"timesd","⌶":"topbot","⫱":"topcir","𝕋":"Topf","𝕥":"topf","⫚":"topfork","‴":"tprime","™":"trade","▵":"utri","≜":"trie","◬":"tridot","⨺":"triminus","⨹":"triplus","⧍":"trisb","⨻":"tritime","⏢":"trpezium","𝒯":"Tscr","𝓉":"tscr","Ц":"TScy","ц":"tscy","Ћ":"TSHcy","ћ":"tshcy","Ŧ":"Tstrok","ŧ":"tstrok","Ú":"Uacute","ú":"uacute","↟":"Uarr","⥉":"Uarrocir","Ў":"Ubrcy","ў":"ubrcy","Ŭ":"Ubreve","ŭ":"ubreve","Û":"Ucirc","û":"ucirc","У":"Ucy","у":"ucy","⇅":"udarr","Ű":"Udblac","ű":"udblac","⥮":"udhar","⥾":"ufisht","𝔘":"Ufr","𝔲":"ufr","Ù":"Ugrave","ù":"ugrave","⥣":"uHar","▀":"uhblk","⌜":"ulcorn","⌏":"ulcrop","◸":"ultri","Ū":"Umacr","ū":"umacr","⏟":"UnderBrace","⏝":"UnderParenthesis","⊎":"uplus","Ų":"Uogon","ų":"uogon","𝕌":"Uopf","𝕦":"uopf","⤒":"UpArrowBar","↕":"varr","υ":"upsi","ϒ":"Upsi","Υ":"Upsilon","⇈":"uuarr","⌝":"urcorn","⌎":"urcrop","Ů":"Uring","ů":"uring","◹":"urtri","𝒰":"Uscr","𝓊":"uscr","⋰":"utdot","Ũ":"Utilde","ũ":"utilde","Ü":"Uuml","ü":"uuml","⦧":"uwangle","⦜":"vangrt","⊊︀":"vsubne","⫋︀":"vsubnE","⊋︀":"vsupne","⫌︀":"vsupnE","⫨":"vBar","⫫":"Vbar","⫩":"vBarv","В":"Vcy","в":"vcy","⊩":"Vdash","⊫":"VDash","⫦":"Vdashl","⊻":"veebar","≚":"veeeq","⋮":"vellip","|":"vert","‖":"Vert","❘":"VerticalSeparator","≀":"wr","𝔙":"Vfr","𝔳":"vfr","𝕍":"Vopf","𝕧":"vopf","𝒱":"Vscr","𝓋":"vscr","⊪":"Vvdash","⦚":"vzigzag","Ŵ":"Wcirc","ŵ":"wcirc","⩟":"wedbar","≙":"wedgeq","℘":"wp","𝔚":"Wfr","𝔴":"wfr","𝕎":"Wopf","𝕨":"wopf","𝒲":"Wscr","𝓌":"wscr","𝔛":"Xfr","𝔵":"xfr","Ξ":"Xi","ξ":"xi","⋻":"xnis","𝕏":"Xopf","𝕩":"xopf","𝒳":"Xscr","𝓍":"xscr","Ý":"Yacute","ý":"yacute","Я":"YAcy","я":"yacy","Ŷ":"Ycirc","ŷ":"ycirc","Ы":"Ycy","ы":"ycy","¥":"yen","𝔜":"Yfr","𝔶":"yfr","Ї":"YIcy","ї":"yicy","𝕐":"Yopf","𝕪":"yopf","𝒴":"Yscr","𝓎":"yscr","Ю":"YUcy","ю":"yucy","ÿ":"yuml","Ÿ":"Yuml","Ź":"Zacute","ź":"zacute","Ž":"Zcaron","ž":"zcaron","З":"Zcy","з":"zcy","Ż":"Zdot","ż":"zdot","ℨ":"Zfr","Ζ":"Zeta","ζ":"zeta","𝔷":"zfr","Ж":"ZHcy","ж":"zhcy","⇝":"zigrarr","𝕫":"zopf","𝒵":"Zscr","𝓏":"zscr","‍":"zwj","‌":"zwnj"},j=/["&'<>`]/g,k={'"':"&quot;","&":"&amp;","'":"&#x27;","<":"&lt;",">":"&gt;","`":"&#x60;"},l=/&#(?:[xX][^a-fA-F0-9]|[^0-9xX])/,m=/[\0-\x08\x0B\x0E-\x1F\x7F-\x9F\uFDD0-\uFDEF\uFFFE\uFFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDFFE\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,n=/&#([0-9]+)(;?)|&#[xX]([a-fA-F0-9]+)(;?)|&([0-9a-zA-Z]+);|&(Aacute|iacute|Uacute|plusmn|otilde|Otilde|Agrave|agrave|yacute|Yacute|oslash|Oslash|Atilde|atilde|brvbar|Ccedil|ccedil|ograve|curren|divide|Eacute|eacute|Ograve|oacute|Egrave|egrave|ugrave|frac12|frac14|frac34|Ugrave|Oacute|Iacute|ntilde|Ntilde|uacute|middot|Igrave|igrave|iquest|aacute|laquo|THORN|micro|iexcl|icirc|Icirc|Acirc|ucirc|ecirc|Ocirc|ocirc|Ecirc|Ucirc|aring|Aring|aelig|AElig|acute|pound|raquo|acirc|times|thorn|szlig|cedil|COPY|Auml|ordf|ordm|uuml|macr|Uuml|auml|Ouml|ouml|para|nbsp|Euml|quot|QUOT|euml|yuml|cent|sect|copy|sup1|sup2|sup3|Iuml|iuml|shy|eth|reg|not|yen|amp|AMP|REG|uml|ETH|deg|gt|GT|LT|lt)([=a-zA-Z0-9])?/g,o={Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",amp:"&",AMP:"&",andand:"⩕",And:"⩓",and:"∧",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angmsd:"∡",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",apacir:"⩯",ap:"≈",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",barwed:"⌅",Barwed:"⌆",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",because:"∵",Because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxdl:"┐",boxdL:"╕",boxDl:"╖",boxDL:"╗",boxdr:"┌",boxdR:"╒",boxDr:"╓",boxDR:"╔",boxh:"─",boxH:"═",boxhd:"┬",boxHd:"╤",boxhD:"╥",boxHD:"╦",boxhu:"┴",boxHu:"╧",boxhU:"╨",boxHU:"╩",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxul:"┘",boxuL:"╛",boxUl:"╜",boxUL:"╝",boxur:"└",boxuR:"╘",boxUr:"╙",boxUR:"╚",boxv:"│",boxV:"║",boxvh:"┼",boxvH:"╪",boxVh:"╫",boxVH:"╬",boxvl:"┤",boxvL:"╡",boxVl:"╢",boxVL:"╣",boxvr:"├",boxvR:"╞",boxVr:"╟",boxVR:"╠",bprime:"‵",breve:"˘",Breve:"˘",brvbar:"¦",bscr:"𝒷",Bscr:"ℬ",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsolb:"⧅",bsol:"\\",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",capand:"⩄",capbrcup:"⩉",capcap:"⩋",cap:"∩",Cap:"⋒",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",centerdot:"·",CenterDot:"·",cfr:"𝔠",Cfr:"ℭ",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cir:"○",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",colon:":",Colon:"∷",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",conint:"∮",Conint:"∯",ContourIntegral:"∮",copf:"𝕔",Copf:"ℂ",coprod:"∐",Coproduct:"∐",copy:"©",COPY:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",cross:"✗",Cross:"⨯",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",cupbrcap:"⩈",cupcap:"⩆",CupCap:"≍",cup:"∪",Cup:"⋓",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",dagger:"†",Dagger:"‡",daleth:"ℸ",darr:"↓",Darr:"↡",dArr:"⇓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",ddagger:"‡",ddarr:"⇊",DD:"ⅅ",dd:"ⅆ",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",diamond:"⋄",Diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrowBar:"⤓",downarrow:"↓",DownArrow:"↓",Downarrow:"⇓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVectorBar:"⥖",DownLeftVector:"↽",DownRightTeeVector:"⥟",DownRightVectorBar:"⥗",DownRightVector:"⇁",DownTeeArrow:"↧",DownTee:"⊤",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",Ecirc:"Ê",ecirc:"ê",ecir:"≖",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",edot:"ė",eDot:"≑",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp13:" ",emsp14:" ",emsp:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",escr:"ℯ",Escr:"ℰ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",exponentiale:"ⅇ",ExponentialE:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",forall:"∀",ForAll:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",fscr:"𝒻",Fscr:"ℱ",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",ge:"≥",gE:"≧",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",gescc:"⪩",ges:"⩾",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",gg:"≫",Gg:"⋙",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gla:"⪥",gl:"≷",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gne:"⪈",gnE:"≩",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",gtcc:"⪧",gtcir:"⩺",gt:">",GT:">",Gt:"≫",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",harrcir:"⥈",harr:"↔",hArr:"⇔",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",hfr:"𝔥",Hfr:"ℌ",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",hopf:"𝕙",Hopf:"ℍ",horbar:"―",HorizontalLine:"─",hscr:"𝒽",Hscr:"ℋ",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",ifr:"𝔦",Ifr:"ℑ",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",Im:"ℑ",imof:"⊷",imped:"Ƶ",Implies:"⇒",incare:"℅","in":"∈",infin:"∞",infintie:"⧝",inodot:"ı",intcal:"⊺","int":"∫",Int:"∬",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",iscr:"𝒾",Iscr:"ℐ",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",lang:"⟨",Lang:"⟪",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",larrb:"⇤",larrbfs:"⤟",larr:"←",Larr:"↞",lArr:"⇐",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",latail:"⤙",lAtail:"⤛",lat:"⪫",late:"⪭",lates:"⪭︀",lbarr:"⤌",lBarr:"⤎",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",le:"≤",lE:"≦",LeftAngleBracket:"⟨",LeftArrowBar:"⇤",leftarrow:"←",LeftArrow:"←",Leftarrow:"⇐",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVectorBar:"⥙",LeftDownVector:"⇃",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",leftrightarrow:"↔",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTeeArrow:"↤",LeftTee:"⊣",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangleBar:"⧏",LeftTriangle:"⊲",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVectorBar:"⥘",LeftUpVector:"↿",LeftVectorBar:"⥒",LeftVector:"↼",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",lescc:"⪨",les:"⩽",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",llarr:"⇇",ll:"≪",Ll:"⋘",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoustache:"⎰",lmoust:"⎰",lnap:"⪉",lnapprox:"⪉",lne:"⪇",lnE:"≨",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",longleftarrow:"⟵",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftrightarrow:"⟷",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longmapsto:"⟼",longrightarrow:"⟶",LongRightArrow:"⟶",Longrightarrow:"⟹",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",lscr:"𝓁",Lscr:"ℒ",lsh:"↰",Lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",ltcc:"⪦",ltcir:"⩹",lt:"<",LT:"<",Lt:"≪",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",midast:"*",midcir:"⫰",mid:"∣",middot:"·",minusb:"⊟",minus:"−",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",mscr:"𝓂",Mscr:"ℳ",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natural:"♮",naturals:"ℕ",natur:"♮",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",nearhk:"⤤",nearr:"↗",neArr:"⇗",nearrow:"↗",ne:"≠",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:"\n",nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nharr:"↮",nhArr:"⇎",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlarr:"↚",nlArr:"⇍",nldr:"‥",nlE:"≦̸",nle:"≰",nleftarrow:"↚",nLeftarrow:"⇍",nleftrightarrow:"↮",nLeftrightarrow:"⇎",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",nopf:"𝕟",Nopf:"ℕ",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangleBar:"⧏̸",NotLeftTriangle:"⋪",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangleBar:"⧐̸",NotRightTriangle:"⋫",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",nparallel:"∦",npar:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",nprec:"⊀",npreceq:"⪯̸",npre:"⪯̸",nrarrc:"⤳̸",nrarr:"↛",nrArr:"⇏",nrarrw:"↝̸",nrightarrow:"↛",nRightarrow:"⇏",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nvdash:"⊬",nvDash:"⊭",nVdash:"⊮",nVDash:"⊯",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwarr:"↖",nwArr:"⇖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",Ocirc:"Ô",ocirc:"ô",ocir:"⊚",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",orarr:"↻",Or:"⩔",or:"∨",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",otimesas:"⨶",Otimes:"⨷",otimes:"⊗",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",para:"¶",parallel:"∥",par:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plus:"+",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",popf:"𝕡",Popf:"ℙ",pound:"£",prap:"⪷",Pr:"⪻",pr:"≺",prcue:"≼",precapprox:"⪷",prec:"≺",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",pre:"⪯",prE:"⪳",precsim:"≾",prime:"′",Prime:"″",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportional:"∝",Proportion:"∷",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",qopf:"𝕢",Qopf:"ℚ",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",quot:'"',QUOT:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",rang:"⟩",Rang:"⟫",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarr:"→",Rarr:"↠",rArr:"⇒",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",ratail:"⤚",rAtail:"⤜",ratio:"∶",rationals:"ℚ",rbarr:"⤍",rBarr:"⤏",RBarr:"⤐",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",Re:"ℜ",rect:"▭",reg:"®",REG:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",rfr:"𝔯",Rfr:"ℜ",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrowBar:"⇥",rightarrow:"→",RightArrow:"→",Rightarrow:"⇒",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVectorBar:"⥕",RightDownVector:"⇂",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTeeArrow:"↦",RightTee:"⊢",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangleBar:"⧐",RightTriangle:"⊳",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVectorBar:"⥔",RightUpVector:"↾",RightVectorBar:"⥓",RightVector:"⇀",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoustache:"⎱",rmoust:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",ropf:"𝕣",Ropf:"ℝ",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",rscr:"𝓇",Rscr:"ℛ",rsh:"↱",Rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",scap:"⪸",Scaron:"Š",scaron:"š",Sc:"⪼",sc:"≻",sccue:"≽",sce:"⪰",scE:"⪴",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdotb:"⊡",sdot:"⋅",sdote:"⩦",searhk:"⤥",searr:"↘",seArr:"⇘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",solbar:"⌿",solb:"⧄",sol:"/",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",square:"□",Square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squ:"□",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",sub:"⊂",Sub:"⋐",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",subset:"⊂",Subset:"⋐",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succapprox:"⪸",succ:"≻",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",sum:"∑",Sum:"∑",sung:"♪",sup1:"¹",sup2:"²",sup3:"³",sup:"⊃",Sup:"⋑",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",supset:"⊃",Supset:"⋑",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swarr:"↙",swArr:"⇙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"	",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",therefore:"∴",Therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",ThinSpace:" ",thinsp:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",tilde:"˜",Tilde:"∼",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",timesbar:"⨱",timesb:"⊠",times:"×",timesd:"⨰",tint:"∭",toea:"⤨",topbot:"⌶",topcir:"⫱",top:"⊤",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",trade:"™",TRADE:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",uarr:"↑",Uarr:"↟",uArr:"⇑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrowBar:"⤒",uparrow:"↑",UpArrow:"↑",Uparrow:"⇑",UpArrowDownArrow:"⇅",updownarrow:"↕",UpDownArrow:"↕",Updownarrow:"⇕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",upsi:"υ",Upsi:"ϒ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTeeArrow:"↥",UpTee:"⊥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",varr:"↕",vArr:"⇕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",vBar:"⫨",Vbar:"⫫",vBarv:"⫩",Vcy:"В",vcy:"в",vdash:"⊢",vDash:"⊨",Vdash:"⊩",VDash:"⊫",Vdashl:"⫦",veebar:"⊻",vee:"∨",Vee:"⋁",veeeq:"≚",vellip:"⋮",verbar:"|",Verbar:"‖",vert:"|",Vert:"‖",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",wedge:"∧",Wedge:"⋀",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xharr:"⟷",xhArr:"⟺",Xi:"Ξ",xi:"ξ",xlarr:"⟵",xlArr:"⟸",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrarr:"⟶",xrArr:"⟹",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",yuml:"ÿ",Yuml:"Ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",zfr:"𝔷",Zfr:"ℨ",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",zopf:"𝕫",Zopf:"ℤ",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"},p={Aacute:"Á",aacute:"á",Acirc:"Â",acirc:"â",acute:"´",AElig:"Æ",aelig:"æ",Agrave:"À",agrave:"à",amp:"&",AMP:"&",Aring:"Å",aring:"å",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",brvbar:"¦",Ccedil:"Ç",ccedil:"ç",cedil:"¸",cent:"¢",copy:"©",COPY:"©",curren:"¤",deg:"°",divide:"÷",Eacute:"É",eacute:"é",Ecirc:"Ê",ecirc:"ê",Egrave:"È",egrave:"è",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",frac12:"½",frac14:"¼",frac34:"¾",gt:">",GT:">",Iacute:"Í",iacute:"í",Icirc:"Î",icirc:"î",iexcl:"¡",Igrave:"Ì",igrave:"ì",iquest:"¿",Iuml:"Ï",iuml:"ï",laquo:"«",lt:"<",LT:"<",macr:"¯",micro:"µ",middot:"·",nbsp:" ",not:"¬",Ntilde:"Ñ",ntilde:"ñ",Oacute:"Ó",oacute:"ó",Ocirc:"Ô",ocirc:"ô",Ograve:"Ò",ograve:"ò",ordf:"ª",ordm:"º",Oslash:"Ø",oslash:"ø",Otilde:"Õ",otilde:"õ",Ouml:"Ö",ouml:"ö",para:"¶",plusmn:"±",pound:"£",quot:'"',QUOT:'"',raquo:"»",reg:"®",REG:"®",sect:"§",shy:"­",sup1:"¹",sup2:"²",sup3:"³",szlig:"ß",THORN:"Þ",thorn:"þ",times:"×",Uacute:"Ú",uacute:"ú",Ucirc:"Û",ucirc:"û",Ugrave:"Ù",ugrave:"ù",uml:"¨",Uuml:"Ü",uuml:"ü",Yacute:"Ý",yacute:"ý",yen:"¥",yuml:"ÿ"},q={0:"�",128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},r=[1,2,3,4,5,6,7,8,11,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,64976,64977,64978,64979,64980,64981,64982,64983,64984,64985,64986,64987,64988,64989,64990,64991,64992,64993,64994,64995,64996,64997,64998,64999,65e3,65001,65002,65003,65004,65005,65006,65007,65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111],s=String.fromCharCode,t={},u=t.hasOwnProperty,v=function(a,b){return u.call(a,b)
},w=function(a,b){for(var c=-1,d=a.length;++c<d;)if(a[c]==b)return!0;return!1},x=function(a,b){if(!a)return b;var c,d={};for(c in b)d[c]=v(a,c)?a[c]:b[c];return d},y=function(a,b){var c="";return a>=55296&&57343>=a||a>1114111?(b&&A("character reference outside the permissible Unicode range"),"�"):v(q,a)?(b&&A("disallowed character reference"),q[a]):(b&&w(r,a)&&A("disallowed character reference"),a>65535&&(a-=65536,c+=s(a>>>10&1023|55296),a=56320|1023&a),c+=s(a))},z=function(a){return"&#x"+a.charCodeAt(0).toString(16).toUpperCase()+";"},A=function(a){throw Error("Parse error: "+a)},B=function(a,b){b=x(b,B.options);var c=b.strict;c&&m.test(a)&&A("forbidden code point");var d=b.encodeEverything,k=b.useNamedReferences,l=b.allowUnsafeSymbols;return d?(a=a.replace(f,function(a){return k&&v(i,a)?"&"+i[a]+";":z(a)}),k&&(a=a.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;").replace(/&#x66;&#x6A;/g,"&fjlig;")),k&&(a=a.replace(h,function(a){return"&"+i[a]+";"}))):k?(l||(a=a.replace(j,function(a){return"&"+i[a]+";"})),a=a.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;"),a=a.replace(h,function(a){return"&"+i[a]+";"})):l||(a=a.replace(j,z)),a.replace(e,function(a){var b=a.charCodeAt(0),c=a.charCodeAt(1),d=1024*(b-55296)+c-56320+65536;return"&#x"+d.toString(16).toUpperCase()+";"}).replace(g,z)};B.options={allowUnsafeSymbols:!1,encodeEverything:!1,strict:!1,useNamedReferences:!1};var C=function(a,b){b=x(b,C.options);var c=b.strict;return c&&l.test(a)&&A("malformed character reference"),a.replace(n,function(a,d,e,f,g,h,i,j){var k,l,m,n,q;return d?(k=d,l=e,c&&!l&&A("character reference was not terminated by a semicolon"),y(k,c)):f?(m=f,l=g,c&&!l&&A("character reference was not terminated by a semicolon"),k=parseInt(m,16),y(k,c)):h?(n=h,v(o,n)?o[n]:(c&&A("named character reference was not terminated by a semicolon"),a)):(n=i,q=j,q&&b.isAttributeValue?(c&&"="==q&&A("`&` did not start a character reference"),a):(c&&A("named character reference was not terminated by a semicolon"),p[n]+(q||"")))})};C.options={isAttributeValue:!1,strict:!1};var D=function(a){return a.replace(j,function(a){return k[a]})},E={version:"0.5.0",encode:B,decode:C,escape:D,unescape:C};if("function"==typeof define&&"object"==typeof define.amd&&define.amd)define(function(){return E});else if(b&&!b.nodeType)if(c)c.exports=E;else for(var F in E)v(E,F)&&(b[F]=E[F]);else a.he=E}(this);